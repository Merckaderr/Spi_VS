ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Src/main.c"
  20              		.section	.text.MX_GPIO_Init,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	MX_GPIO_Init:
  27              	.LFB131:
   1:Src/main.c    **** /* USER CODE BEGIN Header */
   2:Src/main.c    **** /**
   3:Src/main.c    ****   ******************************************************************************
   4:Src/main.c    ****   * @file           : main.c
   5:Src/main.c    ****   * @brief          : Main program body
   6:Src/main.c    ****   ******************************************************************************
   7:Src/main.c    ****   ** This notice applies to any and all portions of this file
   8:Src/main.c    ****   * that are not between comment pairs USER CODE BEGIN and
   9:Src/main.c    ****   * USER CODE END. Other portions of this file, whether
  10:Src/main.c    ****   * inserted by the user or by software development tools
  11:Src/main.c    ****   * are owned by their respective copyright owners.
  12:Src/main.c    ****   *
  13:Src/main.c    ****   * COPYRIGHT(c) 2024 STMicroelectronics
  14:Src/main.c    ****   *
  15:Src/main.c    ****   * Redistribution and use in source and binary forms, with or without modification,
  16:Src/main.c    ****   * are permitted provided that the following conditions are met:
  17:Src/main.c    ****   *   1. Redistributions of source code must retain the above copyright notice,
  18:Src/main.c    ****   *      this list of conditions and the following disclaimer.
  19:Src/main.c    ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  20:Src/main.c    ****   *      this list of conditions and the following disclaimer in the documentation
  21:Src/main.c    ****   *      and/or other materials provided with the distribution.
  22:Src/main.c    ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  23:Src/main.c    ****   *      may be used to endorse or promote products derived from this software
  24:Src/main.c    ****   *      without specific prior written permission.
  25:Src/main.c    ****   *
  26:Src/main.c    ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  27:Src/main.c    ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  28:Src/main.c    ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  29:Src/main.c    ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  30:Src/main.c    ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  31:Src/main.c    ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 2


  32:Src/main.c    ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  33:Src/main.c    ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  34:Src/main.c    ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  35:Src/main.c    ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  36:Src/main.c    ****   *
  37:Src/main.c    ****   ******************************************************************************
  38:Src/main.c    ****   */
  39:Src/main.c    **** /* USER CODE END Header */
  40:Src/main.c    **** 
  41:Src/main.c    **** /* Includes ------------------------------------------------------------------*/
  42:Src/main.c    **** #include "main.h"
  43:Src/main.c    **** #include "stdio.h"
  44:Src/main.c    **** 
  45:Src/main.c    **** /* Private includes ----------------------------------------------------------*/
  46:Src/main.c    **** /* USER CODE BEGIN Includes */
  47:Src/main.c    **** 
  48:Src/main.c    **** /* USER CODE END Includes */
  49:Src/main.c    **** 
  50:Src/main.c    **** /* Private typedef -----------------------------------------------------------*/
  51:Src/main.c    **** /* USER CODE BEGIN PTD */
  52:Src/main.c    **** 
  53:Src/main.c    **** /* USER CODE END PTD */
  54:Src/main.c    **** 
  55:Src/main.c    **** /* Private define ------------------------------------------------------------*/
  56:Src/main.c    **** /* USER CODE BEGIN PD */
  57:Src/main.c    **** 
  58:Src/main.c    **** #define CHANNEL_B 2
  59:Src/main.c    **** #define CHANNEL_C 3
  60:Src/main.c    **** #define CHANNEL_D 4
  61:Src/main.c    **** #define MIN_VOLTAGE 1.61 // 1.61mV
  62:Src/main.c    **** // 5.1; //2.45;
  63:Src/main.c    **** 
  64:Src/main.c    **** #define MAX_VOLTAGE 3.00 // 3.00mV
  65:Src/main.c    **** 
  66:Src/main.c    **** #define VSLSB 0.0025 // 0.0025mV
  67:Src/main.c    **** #define CLSB 0.025 // 0.025mA
  68:Src/main.c    **** #define VLSB 1.25 // 1.25mV
  69:Src/main.c    **** /* USER CODE END PD */
  70:Src/main.c    **** 
  71:Src/main.c    **** /* Private macro -------------------------------------------------------------*/
  72:Src/main.c    **** /* USER CODE BEGIN PM */
  73:Src/main.c    **** 
  74:Src/main.c    **** /* USER CODE END PM */
  75:Src/main.c    **** 
  76:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  77:Src/main.c    **** 
  78:Src/main.c    **** I2C_HandleTypeDef hi2c1;
  79:Src/main.c    **** 
  80:Src/main.c    **** SPI_HandleTypeDef hspi1;
  81:Src/main.c    **** 
  82:Src/main.c    **** UART_HandleTypeDef huart2;
  83:Src/main.c    **** 
  84:Src/main.c    **** /* USER CODE BEGIN PV */
  85:Src/main.c    **** 
  86:Src/main.c    **** /* USER CODE END PV */
  87:Src/main.c    **** 
  88:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 3


  89:Src/main.c    **** 
  90:Src/main.c    **** void SystemClock_Config(void);
  91:Src/main.c    **** static void MX_GPIO_Init(void);
  92:Src/main.c    **** static void MX_USART2_UART_Init(void);
  93:Src/main.c    **** static void MX_I2C1_Init(void);
  94:Src/main.c    **** static void MX_SPI1_Init(void);
  95:Src/main.c    **** /* USER CODE BEGIN PFP */
  96:Src/main.c    **** 
  97:Src/main.c    **** float GetVoltage(uint16_t voltageHex);
  98:Src/main.c    **** float GetShuntVoltage(uint16_t voltageHex);
  99:Src/main.c    **** float GetCurrent(uint16_t currentHex);
 100:Src/main.c    **** uint16_t GetShuntVoltageReg(void);
 101:Src/main.c    **** uint16_t GetBusVoltageReg(void);
 102:Src/main.c    **** uint16_t GetCurrentReg(void);
 103:Src/main.c    **** void SetDACOut(uint16_t value, uint8_t channel);
 104:Src/main.c    **** void PrintTransmitMeasuredVC(int delay);
 105:Src/main.c    **** void PrintTransmitApproximatedVC(int delay);
 106:Src/main.c    **** /* USER CODE END PFP */
 107:Src/main.c    **** 
 108:Src/main.c    **** /* Private user code ---------------------------------------------------------*/
 109:Src/main.c    **** /* USER CODE BEGIN 0 */
 110:Src/main.c    **** 
 111:Src/main.c    **** uint8_t spiData[3];
 112:Src/main.c    **** uint16_t outFine = 0;
 113:Src/main.c    **** uint16_t out;
 114:Src/main.c    **** // uint16_t outDec;
 115:Src/main.c    **** uint16_t outCoarse = 1;
 116:Src/main.c    **** // uint16_t outFineDec = 0;
 117:Src/main.c    **** // uint16_t outCoarseDec = 0;
 118:Src/main.c    **** 
 119:Src/main.c    **** // float k = 0.84422;// for 30omh
 120:Src/main.c    **** // float b = 0.04587;// for 30omh
 121:Src/main.c    **** // float b_ = 0.16735;// for 30omh
 122:Src/main.c    **** 
 123:Src/main.c    **** // float k2 = 0.000388057; // for 30omh
 124:Src/main.c    **** // float b2 = -0.07494; // for 30omh
 125:Src/main.c    **** // float b3 = 0.05910838 -0.05912935787;
 126:Src/main.c    **** // float b3 = 0.00002092; // for 30omh
 127:Src/main.c    **** 
 128:Src/main.c    **** // for 6 Ohm
 129:Src/main.c    **** float k2 = 0.000474392; // approximate
 130:Src/main.c    **** float b2 = -0.205391382;
 131:Src/main.c    **** 
 132:Src/main.c    **** // float k1 = 0.84629863; // correct INA
 133:Src/main.c    **** // float b1 = 0.06857670;
 134:Src/main.c    **** 
 135:Src/main.c    **** // float approxCoefficient = 103.5414; // 30 omh
 136:Src/main.c    **** float approxCoefficient = 424.6; // 30 omh
 137:Src/main.c    **** 
 138:Src/main.c    **** uint8_t I2C_Data[3];
 139:Src/main.c    **** uint8_t recData[3];
 140:Src/main.c    **** uint8_t devAddr = 0x80;
 141:Src/main.c    **** uint16_t configWord;
 142:Src/main.c    **** uint16_t calibWord;
 143:Src/main.c    **** uint16_t receive;
 144:Src/main.c    **** // uint16_t volHex;
 145:Src/main.c    **** uint8_t sendOK;
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 4


 146:Src/main.c    **** float voltage;
 147:Src/main.c    **** float current;
 148:Src/main.c    **** // float shuntVoltage;
 149:Src/main.c    **** uint16_t g_counter = 0;
 150:Src/main.c    **** int g_delay = 300;
 151:Src/main.c    **** 
 152:Src/main.c    **** // uint8_t data[7]; //= "Hello\r\n";
 153:Src/main.c    **** char data2[40];
 154:Src/main.c    **** 
 155:Src/main.c    **** /* USER CODE END 0 */
 156:Src/main.c    **** 
 157:Src/main.c    **** /**
 158:Src/main.c    ****   * @brief  The application entry point.
 159:Src/main.c    ****   * @retval int
 160:Src/main.c    ****   */
 161:Src/main.c    **** int main(void)
 162:Src/main.c    **** {
 163:Src/main.c    ****   /* USER CODE BEGIN 1 */
 164:Src/main.c    **** 
 165:Src/main.c    ****   /* USER CODE END 1 */
 166:Src/main.c    **** 
 167:Src/main.c    ****   /* MCU Configuration--------------------------------------------------------*/
 168:Src/main.c    **** 
 169:Src/main.c    ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 170:Src/main.c    ****   HAL_Init();
 171:Src/main.c    **** 
 172:Src/main.c    ****   /* USER CODE BEGIN Init */
 173:Src/main.c    **** 
 174:Src/main.c    ****   /* USER CODE END Init */
 175:Src/main.c    **** 
 176:Src/main.c    ****   /* Configure the system clock */
 177:Src/main.c    ****   SystemClock_Config();
 178:Src/main.c    **** 
 179:Src/main.c    ****   /* USER CODE BEGIN SysInit */
 180:Src/main.c    **** 
 181:Src/main.c    ****   /* USER CODE END SysInit */
 182:Src/main.c    **** 
 183:Src/main.c    ****   /* Initialize all configured peripherals */
 184:Src/main.c    ****   MX_GPIO_Init();
 185:Src/main.c    ****   MX_USART2_UART_Init();
 186:Src/main.c    ****   MX_I2C1_Init();
 187:Src/main.c    ****   MX_SPI1_Init();
 188:Src/main.c    ****   /* USER CODE BEGIN 2 */
 189:Src/main.c    **** 
 190:Src/main.c    ****   //0 100 000 100 100 111 // use 4 averages, 1.1 ms conversion time
 191:Src/main.c    ****   //0 100 010 100 100 111 // use 16 averages
 192:Src/main.c    **** 	//configWord = 0x327; 
 193:Src/main.c    **** 	//configWord = 0x4927;  128 avg
 194:Src/main.c    **** 	configWord = 0x4527;// 16 avg
 195:Src/main.c    **** 	I2C_Data[0] = 0x00;
 196:Src/main.c    **** 	I2C_Data[1] = (configWord & 0xFF00) >> 8;
 197:Src/main.c    **** 	I2C_Data[2] = (configWord & 0x00FF);
 198:Src/main.c    **** 	HAL_I2C_Master_Transmit(&hi2c1, devAddr, I2C_Data, 3, 20);
 199:Src/main.c    **** 	receive = HAL_I2C_Master_Receive(&hi2c1, devAddr, &recData[1],2,10);
 200:Src/main.c    **** 	
 201:Src/main.c    **** 	// 2. Set Calibration register
 202:Src/main.c    **** 	calibWord = 0x800;
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 5


 203:Src/main.c    **** 	I2C_Data[0] = 0x05;
 204:Src/main.c    **** 	I2C_Data[1] = (calibWord & 0xFF00) >> 8;
 205:Src/main.c    **** 	I2C_Data[2] = (calibWord & 0x00FF);
 206:Src/main.c    **** 	sendOK = 	HAL_I2C_Master_Transmit(&hi2c1, devAddr, I2C_Data, 3, 10);
 207:Src/main.c    **** 	receive = HAL_I2C_Master_Receive(&hi2c1, devAddr, &recData[1],2,10);
 208:Src/main.c    **** 	HAL_Delay(100);
 209:Src/main.c    **** 	
 210:Src/main.c    ****   // 1. Set up the DAC
 211:Src/main.c    **** 
 212:Src/main.c    ****   // doing reset
 213:Src/main.c    **** 
 214:Src/main.c    ****   out = 0x0001;
 215:Src/main.c    ****   spiData[0] = 0x28;   //00101000
 216:Src/main.c    ****   spiData[1] = (out & 0xFF00) >> 8;
 217:Src/main.c    ****   spiData[2] = (out & 0x00FF);
 218:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET); 
 219:Src/main.c    ****   HAL_SPI_Transmit(&hspi1, spiData, 3, 10);
 220:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_SET);
 221:Src/main.c    **** 
 222:Src/main.c    ****   // using internal reference
 223:Src/main.c    ****   out = 0x0001;
 224:Src/main.c    ****   spiData[0] = 0x38;   //00111000 = 0x38
 225:Src/main.c    ****   spiData[1] = (out & 0xFF00) >> 8;
 226:Src/main.c    ****   spiData[2] = (out & 0x00FF);
 227:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET);
 228:Src/main.c    ****   if(!HAL_SPI_Transmit(&hspi1, spiData, 3, 10))
 229:Src/main.c    ****     HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_5);
 230:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_SET);
 231:Src/main.c    ****   //HAL_Delay(1);
 232:Src/main.c    **** 
 233:Src/main.c    ****   //configuring LDAC
 234:Src/main.c    ****   HAL_Delay(10);
 235:Src/main.c    ****   out = 0x000C;
 236:Src/main.c    ****   spiData[0] = 0x30;   //00110000 = 0x30
 237:Src/main.c    ****   spiData[1] = (out & 0xFF00) >> 8;
 238:Src/main.c    ****   spiData[2] = (out & 0x00FF);
 239:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET);
 240:Src/main.c    ****   HAL_SPI_Transmit(&hspi1, spiData, 3, 10);
 241:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_SET);
 242:Src/main.c    ****   /*
 243:Src/main.c    ****   //set D to zero
 244:Src/main.c    ****   //HAL_Delay(10);
 245:Src/main.c    ****   out = 0x000;
 246:Src/main.c    ****   spiData[0] = 0x13;   //00010011
 247:Src/main.c    ****   spiData[1] = (out & 0xFF0) >> 4;
 248:Src/main.c    ****   spiData[2] = (out & 0x00F)<<4;
 249:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET);
 250:Src/main.c    ****   HAL_SPI_Transmit(&hspi1, spiData, 3, 10);
 251:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_SET);
 252:Src/main.c    ****   out = 0x000;*/
 253:Src/main.c    **** 
 254:Src/main.c    ****   outCoarse = 0; //1.41 mV
 255:Src/main.c    ****   outFine = 4000;
 256:Src/main.c    ****   SetDACOut(outFine, CHANNEL_B);
 257:Src/main.c    ****   SetDACOut(outCoarse, CHANNEL_C);
 258:Src/main.c    **** 	SetDACOut(0, CHANNEL_D);
 259:Src/main.c    **** 
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 6


 260:Src/main.c    ****   /* USER CODE END 2 */
 261:Src/main.c    **** 
 262:Src/main.c    ****   /* Infinite loop */
 263:Src/main.c    ****   /* USER CODE BEGIN WHILE */
 264:Src/main.c    ****   while (1)
 265:Src/main.c    ****   {
 266:Src/main.c    ****     /* USER CODE END WHILE */
 267:Src/main.c    **** 
 268:Src/main.c    ****     // outCoarse = 4090; //1.41 mV
 269:Src/main.c    ****     // outFine = 0; //
 270:Src/main.c    ****     // SetDACOut(0, CHANNEL_B);
 271:Src/main.c    ****     // SetDACOut(outCoarse, CHANNEL_C);
 272:Src/main.c    ****     // SetDACOut(outFine, CHANNEL_D);
 273:Src/main.c    **** 
 274:Src/main.c    ****     PrintTransmitMeasuredVC(g_delay);
 275:Src/main.c    ****     
 276:Src/main.c    ****     // PrintTransmitApproximatedVC(g_delay);
 277:Src/main.c    **** 
 278:Src/main.c    ****     /* 
 279:Src/main.c    ****     while(1)
 280:Src/main.c    ****     {
 281:Src/main.c    ****       PrintTransmitMeasuredVC(1000);
 282:Src/main.c    ****       g_counter++;
 283:Src/main.c    ****     }
 284:Src/main.c    ****     */
 285:Src/main.c    **** 
 286:Src/main.c    ****     /*
 287:Src/main.c    ****     while(voltage < MIN_VOLTAGE){
 288:Src/main.c    ****         // PrintTransmitApproximatedVC(g_delay);
 289:Src/main.c    ****         PrintTransmitMeasuredVC(g_delay);
 290:Src/main.c    ****         g_counter++;
 291:Src/main.c    ****       
 292:Src/main.c    ****         for(outFine = 1; outFine < 100; outFine++) //increment by 10 
 293:Src/main.c    ****         {
 294:Src/main.c    ****           SetDACOut(outCoarse, CHANNEL_C);
 295:Src/main.c    ****           SetDACOut(outFine, CHANNEL_D);
 296:Src/main.c    **** 
 297:Src/main.c    ****           // PrintTransmitApproximatedVC(g_delay);
 298:Src/main.c    ****           PrintTransmitMeasuredVC(g_delay);
 299:Src/main.c    ****           g_counter++;
 300:Src/main.c    ****         }
 301:Src/main.c    ****         outCoarse += 1;
 302:Src/main.c    ****         // outFine = 0;
 303:Src/main.c    ****     }
 304:Src/main.c    ****     
 305:Src/main.c    ****     while(1){
 306:Src/main.c    ****       // outDec++;
 307:Src/main.c    ****       out += 5;
 308:Src/main.c    ****       SetDACOut(out, CHANNEL_C);
 309:Src/main.c    ****       SetDACOut(outFine, CHANNEL_D);
 310:Src/main.c    ****       if(out >= 4095)
 311:Src/main.c    ****           out = 1;
 312:Src/main.c    **** 
 313:Src/main.c    ****       // PrintTransmitApproximatedVC(g_delay);
 314:Src/main.c    ****       PrintTransmitMeasuredVC(g_delay);
 315:Src/main.c    ****       g_counter++;
 316:Src/main.c    ****     }
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 7


 317:Src/main.c    ****     */
 318:Src/main.c    **** 
 319:Src/main.c    ****     /* USER CODE BEGIN 3 */
 320:Src/main.c    ****   }
 321:Src/main.c    ****   /* USER CODE END 3 */
 322:Src/main.c    **** }
 323:Src/main.c    **** 
 324:Src/main.c    **** /**
 325:Src/main.c    ****   * @brief System Clock Configuration
 326:Src/main.c    ****   * @retval None
 327:Src/main.c    ****   */
 328:Src/main.c    **** void SystemClock_Config(void)
 329:Src/main.c    **** {
 330:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 331:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 332:Src/main.c    **** 
 333:Src/main.c    ****   /**Configure the main internal regulator output voltage
 334:Src/main.c    ****   */
 335:Src/main.c    ****   __HAL_RCC_PWR_CLK_ENABLE();
 336:Src/main.c    ****   __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE2);
 337:Src/main.c    ****   /**Initializes the CPU, AHB and APB busses clocks
 338:Src/main.c    ****   */
 339:Src/main.c    ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI;
 340:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 341:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 342:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 343:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 344:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLM = 16;
 345:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLN = 336;
 346:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV4;
 347:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLQ = 7;
 348:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 349:Src/main.c    ****   {
 350:Src/main.c    ****     Error_Handler();
 351:Src/main.c    ****   }
 352:Src/main.c    ****   /**Initializes the CPU, AHB and APB busses clocks
 353:Src/main.c    ****   */
 354:Src/main.c    ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 355:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 356:Src/main.c    ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 357:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 358:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 359:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 360:Src/main.c    **** 
 361:Src/main.c    ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 362:Src/main.c    ****   {
 363:Src/main.c    ****     Error_Handler();
 364:Src/main.c    ****   }
 365:Src/main.c    **** }
 366:Src/main.c    **** 
 367:Src/main.c    **** /**
 368:Src/main.c    ****   * @brief I2C1 Initialization Function
 369:Src/main.c    ****   * @param None
 370:Src/main.c    ****   * @retval None
 371:Src/main.c    ****   */
 372:Src/main.c    **** static void MX_I2C1_Init(void)
 373:Src/main.c    **** {
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 8


 374:Src/main.c    **** 
 375:Src/main.c    ****   /* USER CODE BEGIN I2C1_Init 0 */
 376:Src/main.c    **** 
 377:Src/main.c    ****   /* USER CODE END I2C1_Init 0 */
 378:Src/main.c    **** 
 379:Src/main.c    ****   /* USER CODE BEGIN I2C1_Init 1 */
 380:Src/main.c    **** 
 381:Src/main.c    ****   /* USER CODE END I2C1_Init 1 */
 382:Src/main.c    ****   hi2c1.Instance = I2C1;
 383:Src/main.c    ****   hi2c1.Init.ClockSpeed = 100000;
 384:Src/main.c    ****   hi2c1.Init.DutyCycle = I2C_DUTYCYCLE_2;
 385:Src/main.c    ****   hi2c1.Init.OwnAddress1 = 0;
 386:Src/main.c    ****   hi2c1.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 387:Src/main.c    ****   hi2c1.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 388:Src/main.c    ****   hi2c1.Init.OwnAddress2 = 0;
 389:Src/main.c    ****   hi2c1.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 390:Src/main.c    ****   hi2c1.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 391:Src/main.c    ****   if (HAL_I2C_Init(&hi2c1) != HAL_OK)
 392:Src/main.c    ****   {
 393:Src/main.c    ****     Error_Handler();
 394:Src/main.c    ****   }
 395:Src/main.c    ****   /* USER CODE BEGIN I2C1_Init 2 */
 396:Src/main.c    **** 
 397:Src/main.c    ****   /* USER CODE END I2C1_Init 2 */
 398:Src/main.c    **** 
 399:Src/main.c    **** }
 400:Src/main.c    **** 
 401:Src/main.c    **** /**
 402:Src/main.c    ****   * @brief SPI1 Initialization Function
 403:Src/main.c    ****   * @param None
 404:Src/main.c    ****   * @retval None
 405:Src/main.c    ****   */
 406:Src/main.c    **** static void MX_SPI1_Init(void)
 407:Src/main.c    **** {
 408:Src/main.c    **** 
 409:Src/main.c    ****   /* USER CODE BEGIN SPI1_Init 0 */
 410:Src/main.c    **** 
 411:Src/main.c    ****   /* USER CODE END SPI1_Init 0 */
 412:Src/main.c    **** 
 413:Src/main.c    ****   /* USER CODE BEGIN SPI1_Init 1 */
 414:Src/main.c    **** 
 415:Src/main.c    ****   /* USER CODE END SPI1_Init 1 */
 416:Src/main.c    ****   /* SPI1 parameter configuration*/
 417:Src/main.c    ****   hspi1.Instance = SPI1;
 418:Src/main.c    ****   hspi1.Init.Mode = SPI_MODE_MASTER;
 419:Src/main.c    ****   hspi1.Init.Direction = SPI_DIRECTION_2LINES;
 420:Src/main.c    ****   hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
 421:Src/main.c    ****   hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
 422:Src/main.c    ****   hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
 423:Src/main.c    ****   hspi1.Init.NSS = SPI_NSS_SOFT;
 424:Src/main.c    ****   hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_32;
 425:Src/main.c    ****   hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
 426:Src/main.c    ****   hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
 427:Src/main.c    ****   hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 428:Src/main.c    ****   hspi1.Init.CRCPolynomial = 10;
 429:Src/main.c    ****   if (HAL_SPI_Init(&hspi1) != HAL_OK)
 430:Src/main.c    ****   {
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 9


 431:Src/main.c    ****     Error_Handler();
 432:Src/main.c    ****   }
 433:Src/main.c    ****   /* USER CODE BEGIN SPI1_Init 2 */
 434:Src/main.c    **** 
 435:Src/main.c    ****   /* USER CODE END SPI1_Init 2 */
 436:Src/main.c    **** 
 437:Src/main.c    **** }
 438:Src/main.c    **** 
 439:Src/main.c    **** /**
 440:Src/main.c    ****   * @brief USART2 Initialization Function
 441:Src/main.c    ****   * @param None
 442:Src/main.c    ****   * @retval None
 443:Src/main.c    ****   */
 444:Src/main.c    **** static void MX_USART2_UART_Init(void)
 445:Src/main.c    **** {
 446:Src/main.c    **** 
 447:Src/main.c    ****   /* USER CODE BEGIN USART2_Init 0 */
 448:Src/main.c    **** 
 449:Src/main.c    ****   /* USER CODE END USART2_Init 0 */
 450:Src/main.c    **** 
 451:Src/main.c    ****   /* USER CODE BEGIN USART2_Init 1 */
 452:Src/main.c    **** 
 453:Src/main.c    ****   /* USER CODE END USART2_Init 1 */
 454:Src/main.c    ****   huart2.Instance = USART2;
 455:Src/main.c    ****   huart2.Init.BaudRate = 115200;
 456:Src/main.c    ****   huart2.Init.WordLength = UART_WORDLENGTH_8B;
 457:Src/main.c    ****   huart2.Init.StopBits = UART_STOPBITS_1;
 458:Src/main.c    ****   huart2.Init.Parity = UART_PARITY_NONE;
 459:Src/main.c    ****   huart2.Init.Mode = UART_MODE_TX_RX;
 460:Src/main.c    ****   huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 461:Src/main.c    ****   huart2.Init.OverSampling = UART_OVERSAMPLING_16;
 462:Src/main.c    ****   if (HAL_UART_Init(&huart2) != HAL_OK)
 463:Src/main.c    ****   {
 464:Src/main.c    ****     Error_Handler();
 465:Src/main.c    ****   }
 466:Src/main.c    ****   /* USER CODE BEGIN USART2_Init 2 */
 467:Src/main.c    **** 
 468:Src/main.c    ****   /* USER CODE END USART2_Init 2 */
 469:Src/main.c    **** 
 470:Src/main.c    **** }
 471:Src/main.c    **** 
 472:Src/main.c    **** /**
 473:Src/main.c    ****   * @brief GPIO Initialization Function
 474:Src/main.c    ****   * @param None
 475:Src/main.c    ****   * @retval None
 476:Src/main.c    ****   */
 477:Src/main.c    **** static void MX_GPIO_Init(void)
 478:Src/main.c    **** {
  28              		.loc 1 478 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 40
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 20
  35              		.cfi_offset 4, -20
  36              		.cfi_offset 5, -16
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 10


  37              		.cfi_offset 6, -12
  38              		.cfi_offset 7, -8
  39              		.cfi_offset 14, -4
  40 0002 8BB0     		sub	sp, sp, #44
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 64
 479:Src/main.c    ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
  43              		.loc 1 479 3 view .LVU1
  44              		.loc 1 479 20 is_stmt 0 view .LVU2
  45 0004 0024     		movs	r4, #0
  46 0006 0594     		str	r4, [sp, #20]
  47 0008 0694     		str	r4, [sp, #24]
  48 000a 0794     		str	r4, [sp, #28]
  49 000c 0894     		str	r4, [sp, #32]
  50 000e 0994     		str	r4, [sp, #36]
 480:Src/main.c    **** 
 481:Src/main.c    ****   /* GPIO Ports Clock Enable */
 482:Src/main.c    ****   __HAL_RCC_GPIOC_CLK_ENABLE();
  51              		.loc 1 482 3 is_stmt 1 view .LVU3
  52              	.LBB2:
  53              		.loc 1 482 3 view .LVU4
  54 0010 0194     		str	r4, [sp, #4]
  55              		.loc 1 482 3 view .LVU5
  56 0012 2A4B     		ldr	r3, .L3
  57 0014 1A6B     		ldr	r2, [r3, #48]
  58 0016 42F00402 		orr	r2, r2, #4
  59 001a 1A63     		str	r2, [r3, #48]
  60              		.loc 1 482 3 view .LVU6
  61 001c 1A6B     		ldr	r2, [r3, #48]
  62 001e 02F00402 		and	r2, r2, #4
  63 0022 0192     		str	r2, [sp, #4]
  64              		.loc 1 482 3 view .LVU7
  65 0024 019A     		ldr	r2, [sp, #4]
  66              	.LBE2:
  67              		.loc 1 482 3 view .LVU8
 483:Src/main.c    ****   __HAL_RCC_GPIOH_CLK_ENABLE();
  68              		.loc 1 483 3 view .LVU9
  69              	.LBB3:
  70              		.loc 1 483 3 view .LVU10
  71 0026 0294     		str	r4, [sp, #8]
  72              		.loc 1 483 3 view .LVU11
  73 0028 1A6B     		ldr	r2, [r3, #48]
  74 002a 42F08002 		orr	r2, r2, #128
  75 002e 1A63     		str	r2, [r3, #48]
  76              		.loc 1 483 3 view .LVU12
  77 0030 1A6B     		ldr	r2, [r3, #48]
  78 0032 02F08002 		and	r2, r2, #128
  79 0036 0292     		str	r2, [sp, #8]
  80              		.loc 1 483 3 view .LVU13
  81 0038 029A     		ldr	r2, [sp, #8]
  82              	.LBE3:
  83              		.loc 1 483 3 view .LVU14
 484:Src/main.c    ****   __HAL_RCC_GPIOA_CLK_ENABLE();
  84              		.loc 1 484 3 view .LVU15
  85              	.LBB4:
  86              		.loc 1 484 3 view .LVU16
  87 003a 0394     		str	r4, [sp, #12]
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 11


  88              		.loc 1 484 3 view .LVU17
  89 003c 1A6B     		ldr	r2, [r3, #48]
  90 003e 42F00102 		orr	r2, r2, #1
  91 0042 1A63     		str	r2, [r3, #48]
  92              		.loc 1 484 3 view .LVU18
  93 0044 1A6B     		ldr	r2, [r3, #48]
  94 0046 02F00102 		and	r2, r2, #1
  95 004a 0392     		str	r2, [sp, #12]
  96              		.loc 1 484 3 view .LVU19
  97 004c 039A     		ldr	r2, [sp, #12]
  98              	.LBE4:
  99              		.loc 1 484 3 view .LVU20
 485:Src/main.c    ****   __HAL_RCC_GPIOB_CLK_ENABLE();
 100              		.loc 1 485 3 view .LVU21
 101              	.LBB5:
 102              		.loc 1 485 3 view .LVU22
 103 004e 0494     		str	r4, [sp, #16]
 104              		.loc 1 485 3 view .LVU23
 105 0050 1A6B     		ldr	r2, [r3, #48]
 106 0052 42F00202 		orr	r2, r2, #2
 107 0056 1A63     		str	r2, [r3, #48]
 108              		.loc 1 485 3 view .LVU24
 109 0058 1B6B     		ldr	r3, [r3, #48]
 110 005a 03F00203 		and	r3, r3, #2
 111 005e 0493     		str	r3, [sp, #16]
 112              		.loc 1 485 3 view .LVU25
 113 0060 049B     		ldr	r3, [sp, #16]
 114              	.LBE5:
 115              		.loc 1 485 3 view .LVU26
 486:Src/main.c    **** 
 487:Src/main.c    ****   /*Configure GPIO pin Output Level */
 488:Src/main.c    ****   HAL_GPIO_WritePin(GPIOA, LD2_Pin|GPIO_PIN_9, GPIO_PIN_RESET);
 116              		.loc 1 488 3 view .LVU27
 117 0062 174F     		ldr	r7, .L3+4
 118 0064 2246     		mov	r2, r4
 119 0066 4FF40871 		mov	r1, #544
 120 006a 3846     		mov	r0, r7
 121 006c FFF7FEFF 		bl	HAL_GPIO_WritePin
 122              	.LVL0:
 489:Src/main.c    **** 
 490:Src/main.c    ****   /*Configure GPIO pin Output Level */
 491:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET);
 123              		.loc 1 491 3 view .LVU28
 124 0070 144D     		ldr	r5, .L3+8
 125 0072 2246     		mov	r2, r4
 126 0074 8021     		movs	r1, #128
 127 0076 2846     		mov	r0, r5
 128 0078 FFF7FEFF 		bl	HAL_GPIO_WritePin
 129              	.LVL1:
 492:Src/main.c    **** 
 493:Src/main.c    ****   /*Configure GPIO pin : B1_Pin */
 494:Src/main.c    ****   GPIO_InitStruct.Pin = B1_Pin;
 130              		.loc 1 494 3 view .LVU29
 131              		.loc 1 494 23 is_stmt 0 view .LVU30
 132 007c 4FF40053 		mov	r3, #8192
 133 0080 0593     		str	r3, [sp, #20]
 495:Src/main.c    ****   GPIO_InitStruct.Mode = GPIO_MODE_IT_FALLING;
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 12


 134              		.loc 1 495 3 is_stmt 1 view .LVU31
 135              		.loc 1 495 24 is_stmt 0 view .LVU32
 136 0082 114B     		ldr	r3, .L3+12
 137 0084 0693     		str	r3, [sp, #24]
 496:Src/main.c    ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 138              		.loc 1 496 3 is_stmt 1 view .LVU33
 139              		.loc 1 496 24 is_stmt 0 view .LVU34
 140 0086 0794     		str	r4, [sp, #28]
 497:Src/main.c    ****   HAL_GPIO_Init(B1_GPIO_Port, &GPIO_InitStruct);
 141              		.loc 1 497 3 is_stmt 1 view .LVU35
 142 0088 05A9     		add	r1, sp, #20
 143 008a 2846     		mov	r0, r5
 144 008c FFF7FEFF 		bl	HAL_GPIO_Init
 145              	.LVL2:
 498:Src/main.c    **** 
 499:Src/main.c    ****   /*Configure GPIO pins : LD2_Pin PA9 */
 500:Src/main.c    ****   GPIO_InitStruct.Pin = LD2_Pin|GPIO_PIN_9;
 146              		.loc 1 500 3 view .LVU36
 147              		.loc 1 500 23 is_stmt 0 view .LVU37
 148 0090 4FF40873 		mov	r3, #544
 149 0094 0593     		str	r3, [sp, #20]
 501:Src/main.c    ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 150              		.loc 1 501 3 is_stmt 1 view .LVU38
 151              		.loc 1 501 24 is_stmt 0 view .LVU39
 152 0096 0126     		movs	r6, #1
 153 0098 0696     		str	r6, [sp, #24]
 502:Src/main.c    ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 154              		.loc 1 502 3 is_stmt 1 view .LVU40
 155              		.loc 1 502 24 is_stmt 0 view .LVU41
 156 009a 0794     		str	r4, [sp, #28]
 503:Src/main.c    ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 157              		.loc 1 503 3 is_stmt 1 view .LVU42
 158              		.loc 1 503 25 is_stmt 0 view .LVU43
 159 009c 0894     		str	r4, [sp, #32]
 504:Src/main.c    ****   HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 160              		.loc 1 504 3 is_stmt 1 view .LVU44
 161 009e 05A9     		add	r1, sp, #20
 162 00a0 3846     		mov	r0, r7
 163 00a2 FFF7FEFF 		bl	HAL_GPIO_Init
 164              	.LVL3:
 505:Src/main.c    **** 
 506:Src/main.c    ****   /*Configure GPIO pin : PC7 */
 507:Src/main.c    ****   GPIO_InitStruct.Pin = GPIO_PIN_7;
 165              		.loc 1 507 3 view .LVU45
 166              		.loc 1 507 23 is_stmt 0 view .LVU46
 167 00a6 8023     		movs	r3, #128
 168 00a8 0593     		str	r3, [sp, #20]
 508:Src/main.c    ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 169              		.loc 1 508 3 is_stmt 1 view .LVU47
 170              		.loc 1 508 24 is_stmt 0 view .LVU48
 171 00aa 0696     		str	r6, [sp, #24]
 509:Src/main.c    ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 172              		.loc 1 509 3 is_stmt 1 view .LVU49
 173              		.loc 1 509 24 is_stmt 0 view .LVU50
 174 00ac 0794     		str	r4, [sp, #28]
 510:Src/main.c    ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 175              		.loc 1 510 3 is_stmt 1 view .LVU51
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 13


 176              		.loc 1 510 25 is_stmt 0 view .LVU52
 177 00ae 0894     		str	r4, [sp, #32]
 511:Src/main.c    ****   HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
 178              		.loc 1 511 3 is_stmt 1 view .LVU53
 179 00b0 05A9     		add	r1, sp, #20
 180 00b2 2846     		mov	r0, r5
 181 00b4 FFF7FEFF 		bl	HAL_GPIO_Init
 182              	.LVL4:
 512:Src/main.c    **** 
 513:Src/main.c    **** }
 183              		.loc 1 513 1 is_stmt 0 view .LVU54
 184 00b8 0BB0     		add	sp, sp, #44
 185              	.LCFI2:
 186              		.cfi_def_cfa_offset 20
 187              		@ sp needed
 188 00ba F0BD     		pop	{r4, r5, r6, r7, pc}
 189              	.L4:
 190              		.align	2
 191              	.L3:
 192 00bc 00380240 		.word	1073887232
 193 00c0 00000240 		.word	1073872896
 194 00c4 00080240 		.word	1073874944
 195 00c8 00002110 		.word	270598144
 196              		.cfi_endproc
 197              	.LFE131:
 199              		.section	.text.MX_USART2_UART_Init,"ax",%progbits
 200              		.align	1
 201              		.syntax unified
 202              		.thumb
 203              		.thumb_func
 205              	MX_USART2_UART_Init:
 206              	.LFB130:
 445:Src/main.c    **** 
 207              		.loc 1 445 1 is_stmt 1 view -0
 208              		.cfi_startproc
 209              		@ args = 0, pretend = 0, frame = 0
 210              		@ frame_needed = 0, uses_anonymous_args = 0
 211 0000 08B5     		push	{r3, lr}
 212              	.LCFI3:
 213              		.cfi_def_cfa_offset 8
 214              		.cfi_offset 3, -8
 215              		.cfi_offset 14, -4
 454:Src/main.c    ****   huart2.Init.BaudRate = 115200;
 216              		.loc 1 454 3 view .LVU56
 454:Src/main.c    ****   huart2.Init.BaudRate = 115200;
 217              		.loc 1 454 19 is_stmt 0 view .LVU57
 218 0002 0848     		ldr	r0, .L7
 219 0004 084B     		ldr	r3, .L7+4
 220 0006 0360     		str	r3, [r0]
 455:Src/main.c    ****   huart2.Init.WordLength = UART_WORDLENGTH_8B;
 221              		.loc 1 455 3 is_stmt 1 view .LVU58
 455:Src/main.c    ****   huart2.Init.WordLength = UART_WORDLENGTH_8B;
 222              		.loc 1 455 24 is_stmt 0 view .LVU59
 223 0008 4FF4E133 		mov	r3, #115200
 224 000c 4360     		str	r3, [r0, #4]
 456:Src/main.c    ****   huart2.Init.StopBits = UART_STOPBITS_1;
 225              		.loc 1 456 3 is_stmt 1 view .LVU60
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 14


 456:Src/main.c    ****   huart2.Init.StopBits = UART_STOPBITS_1;
 226              		.loc 1 456 26 is_stmt 0 view .LVU61
 227 000e 0023     		movs	r3, #0
 228 0010 8360     		str	r3, [r0, #8]
 457:Src/main.c    ****   huart2.Init.Parity = UART_PARITY_NONE;
 229              		.loc 1 457 3 is_stmt 1 view .LVU62
 457:Src/main.c    ****   huart2.Init.Parity = UART_PARITY_NONE;
 230              		.loc 1 457 24 is_stmt 0 view .LVU63
 231 0012 C360     		str	r3, [r0, #12]
 458:Src/main.c    ****   huart2.Init.Mode = UART_MODE_TX_RX;
 232              		.loc 1 458 3 is_stmt 1 view .LVU64
 458:Src/main.c    ****   huart2.Init.Mode = UART_MODE_TX_RX;
 233              		.loc 1 458 22 is_stmt 0 view .LVU65
 234 0014 0361     		str	r3, [r0, #16]
 459:Src/main.c    ****   huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 235              		.loc 1 459 3 is_stmt 1 view .LVU66
 459:Src/main.c    ****   huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 236              		.loc 1 459 20 is_stmt 0 view .LVU67
 237 0016 0C22     		movs	r2, #12
 238 0018 4261     		str	r2, [r0, #20]
 460:Src/main.c    ****   huart2.Init.OverSampling = UART_OVERSAMPLING_16;
 239              		.loc 1 460 3 is_stmt 1 view .LVU68
 460:Src/main.c    ****   huart2.Init.OverSampling = UART_OVERSAMPLING_16;
 240              		.loc 1 460 25 is_stmt 0 view .LVU69
 241 001a 8361     		str	r3, [r0, #24]
 461:Src/main.c    ****   if (HAL_UART_Init(&huart2) != HAL_OK)
 242              		.loc 1 461 3 is_stmt 1 view .LVU70
 461:Src/main.c    ****   if (HAL_UART_Init(&huart2) != HAL_OK)
 243              		.loc 1 461 28 is_stmt 0 view .LVU71
 244 001c C361     		str	r3, [r0, #28]
 462:Src/main.c    ****   {
 245              		.loc 1 462 3 is_stmt 1 view .LVU72
 462:Src/main.c    ****   {
 246              		.loc 1 462 7 is_stmt 0 view .LVU73
 247 001e FFF7FEFF 		bl	HAL_UART_Init
 248              	.LVL5:
 464:Src/main.c    ****   }
 249              		.loc 1 464 5 is_stmt 1 view .LVU74
 470:Src/main.c    **** 
 250              		.loc 1 470 1 is_stmt 0 view .LVU75
 251 0022 08BD     		pop	{r3, pc}
 252              	.L8:
 253              		.align	2
 254              	.L7:
 255 0024 00000000 		.word	huart2
 256 0028 00440040 		.word	1073759232
 257              		.cfi_endproc
 258              	.LFE130:
 260              		.section	.text.MX_I2C1_Init,"ax",%progbits
 261              		.align	1
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 266              	MX_I2C1_Init:
 267              	.LFB128:
 373:Src/main.c    **** 
 268              		.loc 1 373 1 is_stmt 1 view -0
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 15


 269              		.cfi_startproc
 270              		@ args = 0, pretend = 0, frame = 0
 271              		@ frame_needed = 0, uses_anonymous_args = 0
 272 0000 08B5     		push	{r3, lr}
 273              	.LCFI4:
 274              		.cfi_def_cfa_offset 8
 275              		.cfi_offset 3, -8
 276              		.cfi_offset 14, -4
 382:Src/main.c    ****   hi2c1.Init.ClockSpeed = 100000;
 277              		.loc 1 382 3 view .LVU77
 382:Src/main.c    ****   hi2c1.Init.ClockSpeed = 100000;
 278              		.loc 1 382 18 is_stmt 0 view .LVU78
 279 0002 0948     		ldr	r0, .L11
 280 0004 094B     		ldr	r3, .L11+4
 281 0006 0360     		str	r3, [r0]
 383:Src/main.c    ****   hi2c1.Init.DutyCycle = I2C_DUTYCYCLE_2;
 282              		.loc 1 383 3 is_stmt 1 view .LVU79
 383:Src/main.c    ****   hi2c1.Init.DutyCycle = I2C_DUTYCYCLE_2;
 283              		.loc 1 383 25 is_stmt 0 view .LVU80
 284 0008 094B     		ldr	r3, .L11+8
 285 000a 4360     		str	r3, [r0, #4]
 384:Src/main.c    ****   hi2c1.Init.OwnAddress1 = 0;
 286              		.loc 1 384 3 is_stmt 1 view .LVU81
 384:Src/main.c    ****   hi2c1.Init.OwnAddress1 = 0;
 287              		.loc 1 384 24 is_stmt 0 view .LVU82
 288 000c 0023     		movs	r3, #0
 289 000e 8360     		str	r3, [r0, #8]
 385:Src/main.c    ****   hi2c1.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 290              		.loc 1 385 3 is_stmt 1 view .LVU83
 385:Src/main.c    ****   hi2c1.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 291              		.loc 1 385 26 is_stmt 0 view .LVU84
 292 0010 C360     		str	r3, [r0, #12]
 386:Src/main.c    ****   hi2c1.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 293              		.loc 1 386 3 is_stmt 1 view .LVU85
 386:Src/main.c    ****   hi2c1.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 294              		.loc 1 386 29 is_stmt 0 view .LVU86
 295 0012 4FF48042 		mov	r2, #16384
 296 0016 0261     		str	r2, [r0, #16]
 387:Src/main.c    ****   hi2c1.Init.OwnAddress2 = 0;
 297              		.loc 1 387 3 is_stmt 1 view .LVU87
 387:Src/main.c    ****   hi2c1.Init.OwnAddress2 = 0;
 298              		.loc 1 387 30 is_stmt 0 view .LVU88
 299 0018 4361     		str	r3, [r0, #20]
 388:Src/main.c    ****   hi2c1.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 300              		.loc 1 388 3 is_stmt 1 view .LVU89
 388:Src/main.c    ****   hi2c1.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 301              		.loc 1 388 26 is_stmt 0 view .LVU90
 302 001a 8361     		str	r3, [r0, #24]
 389:Src/main.c    ****   hi2c1.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 303              		.loc 1 389 3 is_stmt 1 view .LVU91
 389:Src/main.c    ****   hi2c1.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 304              		.loc 1 389 30 is_stmt 0 view .LVU92
 305 001c C361     		str	r3, [r0, #28]
 390:Src/main.c    ****   if (HAL_I2C_Init(&hi2c1) != HAL_OK)
 306              		.loc 1 390 3 is_stmt 1 view .LVU93
 390:Src/main.c    ****   if (HAL_I2C_Init(&hi2c1) != HAL_OK)
 307              		.loc 1 390 28 is_stmt 0 view .LVU94
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 16


 308 001e 0362     		str	r3, [r0, #32]
 391:Src/main.c    ****   {
 309              		.loc 1 391 3 is_stmt 1 view .LVU95
 391:Src/main.c    ****   {
 310              		.loc 1 391 7 is_stmt 0 view .LVU96
 311 0020 FFF7FEFF 		bl	HAL_I2C_Init
 312              	.LVL6:
 393:Src/main.c    ****   }
 313              		.loc 1 393 5 is_stmt 1 view .LVU97
 399:Src/main.c    **** 
 314              		.loc 1 399 1 is_stmt 0 view .LVU98
 315 0024 08BD     		pop	{r3, pc}
 316              	.L12:
 317 0026 00BF     		.align	2
 318              	.L11:
 319 0028 00000000 		.word	hi2c1
 320 002c 00540040 		.word	1073763328
 321 0030 A0860100 		.word	100000
 322              		.cfi_endproc
 323              	.LFE128:
 325              		.section	.text.MX_SPI1_Init,"ax",%progbits
 326              		.align	1
 327              		.syntax unified
 328              		.thumb
 329              		.thumb_func
 331              	MX_SPI1_Init:
 332              	.LFB129:
 407:Src/main.c    **** 
 333              		.loc 1 407 1 is_stmt 1 view -0
 334              		.cfi_startproc
 335              		@ args = 0, pretend = 0, frame = 0
 336              		@ frame_needed = 0, uses_anonymous_args = 0
 337 0000 08B5     		push	{r3, lr}
 338              	.LCFI5:
 339              		.cfi_def_cfa_offset 8
 340              		.cfi_offset 3, -8
 341              		.cfi_offset 14, -4
 417:Src/main.c    ****   hspi1.Init.Mode = SPI_MODE_MASTER;
 342              		.loc 1 417 3 view .LVU100
 417:Src/main.c    ****   hspi1.Init.Mode = SPI_MODE_MASTER;
 343              		.loc 1 417 18 is_stmt 0 view .LVU101
 344 0002 0C48     		ldr	r0, .L15
 345 0004 0C4B     		ldr	r3, .L15+4
 346 0006 0360     		str	r3, [r0]
 418:Src/main.c    ****   hspi1.Init.Direction = SPI_DIRECTION_2LINES;
 347              		.loc 1 418 3 is_stmt 1 view .LVU102
 418:Src/main.c    ****   hspi1.Init.Direction = SPI_DIRECTION_2LINES;
 348              		.loc 1 418 19 is_stmt 0 view .LVU103
 349 0008 4FF48273 		mov	r3, #260
 350 000c 4360     		str	r3, [r0, #4]
 419:Src/main.c    ****   hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
 351              		.loc 1 419 3 is_stmt 1 view .LVU104
 419:Src/main.c    ****   hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
 352              		.loc 1 419 24 is_stmt 0 view .LVU105
 353 000e 0023     		movs	r3, #0
 354 0010 8360     		str	r3, [r0, #8]
 420:Src/main.c    ****   hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 17


 355              		.loc 1 420 3 is_stmt 1 view .LVU106
 420:Src/main.c    ****   hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
 356              		.loc 1 420 23 is_stmt 0 view .LVU107
 357 0012 C360     		str	r3, [r0, #12]
 421:Src/main.c    ****   hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
 358              		.loc 1 421 3 is_stmt 1 view .LVU108
 421:Src/main.c    ****   hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
 359              		.loc 1 421 26 is_stmt 0 view .LVU109
 360 0014 0361     		str	r3, [r0, #16]
 422:Src/main.c    ****   hspi1.Init.NSS = SPI_NSS_SOFT;
 361              		.loc 1 422 3 is_stmt 1 view .LVU110
 422:Src/main.c    ****   hspi1.Init.NSS = SPI_NSS_SOFT;
 362              		.loc 1 422 23 is_stmt 0 view .LVU111
 363 0016 4361     		str	r3, [r0, #20]
 423:Src/main.c    ****   hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_32;
 364              		.loc 1 423 3 is_stmt 1 view .LVU112
 423:Src/main.c    ****   hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_32;
 365              		.loc 1 423 18 is_stmt 0 view .LVU113
 366 0018 4FF40072 		mov	r2, #512
 367 001c 8261     		str	r2, [r0, #24]
 424:Src/main.c    ****   hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
 368              		.loc 1 424 3 is_stmt 1 view .LVU114
 424:Src/main.c    ****   hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
 369              		.loc 1 424 32 is_stmt 0 view .LVU115
 370 001e 2022     		movs	r2, #32
 371 0020 C261     		str	r2, [r0, #28]
 425:Src/main.c    ****   hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
 372              		.loc 1 425 3 is_stmt 1 view .LVU116
 425:Src/main.c    ****   hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
 373              		.loc 1 425 23 is_stmt 0 view .LVU117
 374 0022 0362     		str	r3, [r0, #32]
 426:Src/main.c    ****   hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 375              		.loc 1 426 3 is_stmt 1 view .LVU118
 426:Src/main.c    ****   hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 376              		.loc 1 426 21 is_stmt 0 view .LVU119
 377 0024 4362     		str	r3, [r0, #36]
 427:Src/main.c    ****   hspi1.Init.CRCPolynomial = 10;
 378              		.loc 1 427 3 is_stmt 1 view .LVU120
 427:Src/main.c    ****   hspi1.Init.CRCPolynomial = 10;
 379              		.loc 1 427 29 is_stmt 0 view .LVU121
 380 0026 8362     		str	r3, [r0, #40]
 428:Src/main.c    ****   if (HAL_SPI_Init(&hspi1) != HAL_OK)
 381              		.loc 1 428 3 is_stmt 1 view .LVU122
 428:Src/main.c    ****   if (HAL_SPI_Init(&hspi1) != HAL_OK)
 382              		.loc 1 428 28 is_stmt 0 view .LVU123
 383 0028 0A23     		movs	r3, #10
 384 002a C362     		str	r3, [r0, #44]
 429:Src/main.c    ****   {
 385              		.loc 1 429 3 is_stmt 1 view .LVU124
 429:Src/main.c    ****   {
 386              		.loc 1 429 7 is_stmt 0 view .LVU125
 387 002c FFF7FEFF 		bl	HAL_SPI_Init
 388              	.LVL7:
 431:Src/main.c    ****   }
 389              		.loc 1 431 5 is_stmt 1 view .LVU126
 437:Src/main.c    **** 
 390              		.loc 1 437 1 is_stmt 0 view .LVU127
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 18


 391 0030 08BD     		pop	{r3, pc}
 392              	.L16:
 393 0032 00BF     		.align	2
 394              	.L15:
 395 0034 00000000 		.word	hspi1
 396 0038 00300140 		.word	1073819648
 397              		.cfi_endproc
 398              	.LFE129:
 400              		.section	.text.SystemClock_Config,"ax",%progbits
 401              		.align	1
 402              		.global	SystemClock_Config
 403              		.syntax unified
 404              		.thumb
 405              		.thumb_func
 407              	SystemClock_Config:
 408              	.LFB127:
 329:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 409              		.loc 1 329 1 is_stmt 1 view -0
 410              		.cfi_startproc
 411              		@ args = 0, pretend = 0, frame = 80
 412              		@ frame_needed = 0, uses_anonymous_args = 0
 413 0000 30B5     		push	{r4, r5, lr}
 414              	.LCFI6:
 415              		.cfi_def_cfa_offset 12
 416              		.cfi_offset 4, -12
 417              		.cfi_offset 5, -8
 418              		.cfi_offset 14, -4
 419 0002 95B0     		sub	sp, sp, #84
 420              	.LCFI7:
 421              		.cfi_def_cfa_offset 96
 330:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 422              		.loc 1 330 3 view .LVU129
 330:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 423              		.loc 1 330 22 is_stmt 0 view .LVU130
 424 0004 3022     		movs	r2, #48
 425 0006 0021     		movs	r1, #0
 426 0008 08A8     		add	r0, sp, #32
 427 000a FFF7FEFF 		bl	memset
 428              	.LVL8:
 331:Src/main.c    **** 
 429              		.loc 1 331 3 is_stmt 1 view .LVU131
 331:Src/main.c    **** 
 430              		.loc 1 331 22 is_stmt 0 view .LVU132
 431 000e 0024     		movs	r4, #0
 432 0010 0394     		str	r4, [sp, #12]
 433 0012 0494     		str	r4, [sp, #16]
 434 0014 0594     		str	r4, [sp, #20]
 435 0016 0694     		str	r4, [sp, #24]
 436 0018 0794     		str	r4, [sp, #28]
 335:Src/main.c    ****   __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE2);
 437              		.loc 1 335 3 is_stmt 1 view .LVU133
 438              	.LBB6:
 335:Src/main.c    ****   __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE2);
 439              		.loc 1 335 3 view .LVU134
 440 001a 0194     		str	r4, [sp, #4]
 335:Src/main.c    ****   __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE2);
 441              		.loc 1 335 3 view .LVU135
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 19


 442 001c 1B4B     		ldr	r3, .L19
 443 001e 1A6C     		ldr	r2, [r3, #64]
 444 0020 42F08052 		orr	r2, r2, #268435456
 445 0024 1A64     		str	r2, [r3, #64]
 335:Src/main.c    ****   __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE2);
 446              		.loc 1 335 3 view .LVU136
 447 0026 1B6C     		ldr	r3, [r3, #64]
 448 0028 03F08053 		and	r3, r3, #268435456
 449 002c 0193     		str	r3, [sp, #4]
 335:Src/main.c    ****   __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE2);
 450              		.loc 1 335 3 view .LVU137
 451 002e 019B     		ldr	r3, [sp, #4]
 452              	.LBE6:
 335:Src/main.c    ****   __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE2);
 453              		.loc 1 335 3 view .LVU138
 336:Src/main.c    ****   /**Initializes the CPU, AHB and APB busses clocks
 454              		.loc 1 336 3 view .LVU139
 455              	.LBB7:
 336:Src/main.c    ****   /**Initializes the CPU, AHB and APB busses clocks
 456              		.loc 1 336 3 view .LVU140
 457 0030 0294     		str	r4, [sp, #8]
 336:Src/main.c    ****   /**Initializes the CPU, AHB and APB busses clocks
 458              		.loc 1 336 3 view .LVU141
 459 0032 174A     		ldr	r2, .L19+4
 460 0034 1368     		ldr	r3, [r2]
 461 0036 23F44043 		bic	r3, r3, #49152
 462 003a 43F40043 		orr	r3, r3, #32768
 463 003e 1360     		str	r3, [r2]
 336:Src/main.c    ****   /**Initializes the CPU, AHB and APB busses clocks
 464              		.loc 1 336 3 view .LVU142
 465 0040 1368     		ldr	r3, [r2]
 466 0042 03F44043 		and	r3, r3, #49152
 467 0046 0293     		str	r3, [sp, #8]
 336:Src/main.c    ****   /**Initializes the CPU, AHB and APB busses clocks
 468              		.loc 1 336 3 view .LVU143
 469 0048 029B     		ldr	r3, [sp, #8]
 470              	.LBE7:
 336:Src/main.c    ****   /**Initializes the CPU, AHB and APB busses clocks
 471              		.loc 1 336 3 view .LVU144
 339:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 472              		.loc 1 339 3 view .LVU145
 339:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 473              		.loc 1 339 36 is_stmt 0 view .LVU146
 474 004a 0225     		movs	r5, #2
 475 004c 0895     		str	r5, [sp, #32]
 340:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 476              		.loc 1 340 3 is_stmt 1 view .LVU147
 340:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 477              		.loc 1 340 30 is_stmt 0 view .LVU148
 478 004e 0123     		movs	r3, #1
 479 0050 0B93     		str	r3, [sp, #44]
 341:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 480              		.loc 1 341 3 is_stmt 1 view .LVU149
 341:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 481              		.loc 1 341 41 is_stmt 0 view .LVU150
 482 0052 1023     		movs	r3, #16
 483 0054 0C93     		str	r3, [sp, #48]
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 20


 342:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 484              		.loc 1 342 3 is_stmt 1 view .LVU151
 342:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 485              		.loc 1 342 34 is_stmt 0 view .LVU152
 486 0056 0E95     		str	r5, [sp, #56]
 343:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLM = 16;
 487              		.loc 1 343 3 is_stmt 1 view .LVU153
 343:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLM = 16;
 488              		.loc 1 343 35 is_stmt 0 view .LVU154
 489 0058 0F94     		str	r4, [sp, #60]
 344:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLN = 336;
 490              		.loc 1 344 3 is_stmt 1 view .LVU155
 344:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLN = 336;
 491              		.loc 1 344 30 is_stmt 0 view .LVU156
 492 005a 1093     		str	r3, [sp, #64]
 345:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV4;
 493              		.loc 1 345 3 is_stmt 1 view .LVU157
 345:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV4;
 494              		.loc 1 345 30 is_stmt 0 view .LVU158
 495 005c 4FF4A873 		mov	r3, #336
 496 0060 1193     		str	r3, [sp, #68]
 346:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLQ = 7;
 497              		.loc 1 346 3 is_stmt 1 view .LVU159
 346:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLQ = 7;
 498              		.loc 1 346 30 is_stmt 0 view .LVU160
 499 0062 0423     		movs	r3, #4
 500 0064 1293     		str	r3, [sp, #72]
 347:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 501              		.loc 1 347 3 is_stmt 1 view .LVU161
 347:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 502              		.loc 1 347 30 is_stmt 0 view .LVU162
 503 0066 0723     		movs	r3, #7
 504 0068 1393     		str	r3, [sp, #76]
 348:Src/main.c    ****   {
 505              		.loc 1 348 3 is_stmt 1 view .LVU163
 348:Src/main.c    ****   {
 506              		.loc 1 348 7 is_stmt 0 view .LVU164
 507 006a 08A8     		add	r0, sp, #32
 508 006c FFF7FEFF 		bl	HAL_RCC_OscConfig
 509              	.LVL9:
 350:Src/main.c    ****   }
 510              		.loc 1 350 5 is_stmt 1 view .LVU165
 354:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 511              		.loc 1 354 3 view .LVU166
 354:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 512              		.loc 1 354 31 is_stmt 0 view .LVU167
 513 0070 0F23     		movs	r3, #15
 514 0072 0393     		str	r3, [sp, #12]
 356:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 515              		.loc 1 356 3 is_stmt 1 view .LVU168
 356:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 516              		.loc 1 356 34 is_stmt 0 view .LVU169
 517 0074 0495     		str	r5, [sp, #16]
 357:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 518              		.loc 1 357 3 is_stmt 1 view .LVU170
 357:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 519              		.loc 1 357 35 is_stmt 0 view .LVU171
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 21


 520 0076 0594     		str	r4, [sp, #20]
 358:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 521              		.loc 1 358 3 is_stmt 1 view .LVU172
 358:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 522              		.loc 1 358 36 is_stmt 0 view .LVU173
 523 0078 4FF48053 		mov	r3, #4096
 524 007c 0693     		str	r3, [sp, #24]
 359:Src/main.c    **** 
 525              		.loc 1 359 3 is_stmt 1 view .LVU174
 359:Src/main.c    **** 
 526              		.loc 1 359 36 is_stmt 0 view .LVU175
 527 007e 0794     		str	r4, [sp, #28]
 361:Src/main.c    ****   {
 528              		.loc 1 361 3 is_stmt 1 view .LVU176
 361:Src/main.c    ****   {
 529              		.loc 1 361 7 is_stmt 0 view .LVU177
 530 0080 2946     		mov	r1, r5
 531 0082 03A8     		add	r0, sp, #12
 532 0084 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 533              	.LVL10:
 363:Src/main.c    ****   }
 534              		.loc 1 363 5 is_stmt 1 view .LVU178
 365:Src/main.c    **** 
 535              		.loc 1 365 1 is_stmt 0 view .LVU179
 536 0088 15B0     		add	sp, sp, #84
 537              	.LCFI8:
 538              		.cfi_def_cfa_offset 12
 539              		@ sp needed
 540 008a 30BD     		pop	{r4, r5, pc}
 541              	.L20:
 542              		.align	2
 543              	.L19:
 544 008c 00380240 		.word	1073887232
 545 0090 00700040 		.word	1073770496
 546              		.cfi_endproc
 547              	.LFE127:
 549              		.section	.text.SetDACOut,"ax",%progbits
 550              		.align	1
 551              		.global	SetDACOut
 552              		.syntax unified
 553              		.thumb
 554              		.thumb_func
 556              	SetDACOut:
 557              	.LVL11:
 558              	.LFB132:
 514:Src/main.c    **** 
 515:Src/main.c    **** /* USER CODE BEGIN 4 */
 516:Src/main.c    **** 
 517:Src/main.c    **** void SetDACOut(uint16_t value, uint8_t channel) 
 518:Src/main.c    **** {
 559              		.loc 1 518 1 is_stmt 1 view -0
 560              		.cfi_startproc
 561              		@ args = 0, pretend = 0, frame = 0
 562              		@ frame_needed = 0, uses_anonymous_args = 0
 563              		.loc 1 518 1 is_stmt 0 view .LVU181
 564 0000 10B5     		push	{r4, lr}
 565              	.LCFI9:
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 22


 566              		.cfi_def_cfa_offset 8
 567              		.cfi_offset 4, -8
 568              		.cfi_offset 14, -4
 519:Src/main.c    ****    spiData[1] = (value & 0xFF0) >> 4;
 569              		.loc 1 519 4 is_stmt 1 view .LVU182
 570              		.loc 1 519 33 is_stmt 0 view .LVU183
 571 0002 0211     		asrs	r2, r0, #4
 572              		.loc 1 519 15 view .LVU184
 573 0004 124B     		ldr	r3, .L28
 574 0006 5A70     		strb	r2, [r3, #1]
 520:Src/main.c    ****    spiData[2] = (value & 0x00F) << 4;
 575              		.loc 1 520 4 is_stmt 1 view .LVU185
 576              		.loc 1 520 15 is_stmt 0 view .LVU186
 577 0008 0001     		lsls	r0, r0, #4
 578              	.LVL12:
 579              		.loc 1 520 15 view .LVU187
 580 000a 9870     		strb	r0, [r3, #2]
 521:Src/main.c    ****    if(channel == CHANNEL_B)
 581              		.loc 1 521 4 is_stmt 1 view .LVU188
 582              		.loc 1 521 6 is_stmt 0 view .LVU189
 583 000c 0229     		cmp	r1, #2
 584 000e 07D0     		beq	.L26
 522:Src/main.c    ****       spiData[0] = 0x11;
 523:Src/main.c    ****    else if(channel == CHANNEL_C)
 585              		.loc 1 523 9 is_stmt 1 view .LVU190
 586              		.loc 1 523 11 is_stmt 0 view .LVU191
 587 0010 0329     		cmp	r1, #3
 588 0012 19D0     		beq	.L27
 524:Src/main.c    ****       spiData[0] = 0x12;
 525:Src/main.c    ****    else if(channel == CHANNEL_D)
 589              		.loc 1 525 9 is_stmt 1 view .LVU192
 590              		.loc 1 525 11 is_stmt 0 view .LVU193
 591 0014 0429     		cmp	r1, #4
 592 0016 05D1     		bne	.L23
 526:Src/main.c    ****       spiData[0] = 0x13;
 593              		.loc 1 526 7 is_stmt 1 view .LVU194
 594              		.loc 1 526 18 is_stmt 0 view .LVU195
 595 0018 0D4B     		ldr	r3, .L28
 596 001a 1322     		movs	r2, #19
 597 001c 1A70     		strb	r2, [r3]
 598 001e 01E0     		b	.L23
 599              	.L26:
 522:Src/main.c    ****       spiData[0] = 0x11;
 600              		.loc 1 522 7 is_stmt 1 view .LVU196
 522:Src/main.c    ****       spiData[0] = 0x11;
 601              		.loc 1 522 18 is_stmt 0 view .LVU197
 602 0020 1122     		movs	r2, #17
 603 0022 1A70     		strb	r2, [r3]
 604              	.L23:
 527:Src/main.c    ****    //00010010
 528:Src/main.c    ****    HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET);
 605              		.loc 1 528 4 is_stmt 1 view .LVU198
 606 0024 0B4C     		ldr	r4, .L28+4
 607 0026 0022     		movs	r2, #0
 608 0028 8021     		movs	r1, #128
 609              	.LVL13:
 610              		.loc 1 528 4 is_stmt 0 view .LVU199
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 23


 611 002a 2046     		mov	r0, r4
 612 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 613              	.LVL14:
 529:Src/main.c    ****    HAL_SPI_Transmit(&hspi1, spiData, 3, 10);
 614              		.loc 1 529 4 is_stmt 1 view .LVU200
 615 0030 0A23     		movs	r3, #10
 616 0032 0322     		movs	r2, #3
 617 0034 0649     		ldr	r1, .L28
 618 0036 0848     		ldr	r0, .L28+8
 619 0038 FFF7FEFF 		bl	HAL_SPI_Transmit
 620              	.LVL15:
 530:Src/main.c    ****    HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_SET);
 621              		.loc 1 530 4 view .LVU201
 622 003c 0122     		movs	r2, #1
 623 003e 8021     		movs	r1, #128
 624 0040 2046     		mov	r0, r4
 625 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
 626              	.LVL16:
 531:Src/main.c    **** }
 627              		.loc 1 531 1 is_stmt 0 view .LVU202
 628 0046 10BD     		pop	{r4, pc}
 629              	.LVL17:
 630              	.L27:
 524:Src/main.c    ****    else if(channel == CHANNEL_D)
 631              		.loc 1 524 7 is_stmt 1 view .LVU203
 524:Src/main.c    ****    else if(channel == CHANNEL_D)
 632              		.loc 1 524 18 is_stmt 0 view .LVU204
 633 0048 014B     		ldr	r3, .L28
 634 004a 1222     		movs	r2, #18
 635 004c 1A70     		strb	r2, [r3]
 636 004e E9E7     		b	.L23
 637              	.L29:
 638              		.align	2
 639              	.L28:
 640 0050 00000000 		.word	spiData
 641 0054 00080240 		.word	1073874944
 642 0058 00000000 		.word	hspi1
 643              		.cfi_endproc
 644              	.LFE132:
 646              		.section	.text.GetShuntVoltageReg,"ax",%progbits
 647              		.align	1
 648              		.global	GetShuntVoltageReg
 649              		.syntax unified
 650              		.thumb
 651              		.thumb_func
 653              	GetShuntVoltageReg:
 654              	.LFB135:
 532:Src/main.c    **** 
 533:Src/main.c    **** /**
 534:Src/main.c    ****   * @brief  Measures values of Voltage and Current then Prints and Transmits them. 
 535:Src/main.c    ****   * @param  delay - optional delay after transmitting data in ms.
 536:Src/main.c    ****   * @retval None
 537:Src/main.c    ****   */
 538:Src/main.c    **** void PrintTransmitMeasuredVC(int delay)
 539:Src/main.c    **** {
 540:Src/main.c    ****   voltage = GetVoltage(GetBusVoltageReg())/1000;
 541:Src/main.c    ****   current = GetCurrent(GetCurrentReg());
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 24


 542:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 543:Src/main.c    ****   HAL_UART_Transmit(&huart2, data2, sizeof data2, 100);
 544:Src/main.c    ****   HAL_Delay(delay);
 545:Src/main.c    **** }
 546:Src/main.c    **** 
 547:Src/main.c    **** /**
 548:Src/main.c    ****   * @brief  Calculates Approximate values of Voltage and Current then Prints and Transmits them. 
 549:Src/main.c    ****   * @param  delay - optional delay after transmitting data in ms.
 550:Src/main.c    ****   * @retval None
 551:Src/main.c    ****   */
 552:Src/main.c    **** void PrintTransmitApproximatedVC(int delay)
 553:Src/main.c    **** {
 554:Src/main.c    ****   voltage = GetVoltage(GetBusVoltageReg())/1000;
 555:Src/main.c    ****   current = (outCoarse * approxCoefficient + outFine) * k2 + b2;
 556:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 557:Src/main.c    ****   HAL_UART_Transmit(&huart2, data2, sizeof data2, 100);
 558:Src/main.c    ****   HAL_Delay(delay);
 559:Src/main.c    **** }
 560:Src/main.c    **** 
 561:Src/main.c    **** uint16_t GetShuntVoltageReg(void){	
 655              		.loc 1 561 34 is_stmt 1 view -0
 656              		.cfi_startproc
 657              		@ args = 0, pretend = 0, frame = 0
 658              		@ frame_needed = 0, uses_anonymous_args = 0
 659 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 660              	.LCFI10:
 661              		.cfi_def_cfa_offset 20
 662              		.cfi_offset 4, -20
 663              		.cfi_offset 5, -16
 664              		.cfi_offset 6, -12
 665              		.cfi_offset 7, -8
 666              		.cfi_offset 14, -4
 667 0002 83B0     		sub	sp, sp, #12
 668              	.LCFI11:
 669              		.cfi_def_cfa_offset 32
 562:Src/main.c    **** 	I2C_Data[0] = 0x01;
 670              		.loc 1 562 2 view .LVU206
 671              		.loc 1 562 14 is_stmt 0 view .LVU207
 672 0004 0F4A     		ldr	r2, .L32
 673 0006 0123     		movs	r3, #1
 674 0008 1370     		strb	r3, [r2]
 563:Src/main.c    **** 	sendOK = 	HAL_I2C_Master_Transmit(&hi2c1, devAddr, I2C_Data, 1, 10);
 675              		.loc 1 563 2 is_stmt 1 view .LVU208
 676              		.loc 1 563 12 is_stmt 0 view .LVU209
 677 000a 0F4E     		ldr	r6, .L32+4
 678 000c 0F4D     		ldr	r5, .L32+8
 679 000e 0A27     		movs	r7, #10
 680 0010 0097     		str	r7, [sp]
 681 0012 3178     		ldrb	r1, [r6]	@ zero_extendqisi2
 682 0014 2846     		mov	r0, r5
 683 0016 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 684              	.LVL18:
 685              		.loc 1 563 9 discriminator 1 view .LVU210
 686 001a 0D4B     		ldr	r3, .L32+12
 687 001c 1870     		strb	r0, [r3]
 564:Src/main.c    **** 	receive = HAL_I2C_Master_Receive(&hi2c1, devAddr, &recData[1],2,10);
 688              		.loc 1 564 2 is_stmt 1 view .LVU211
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 25


 689              		.loc 1 564 12 is_stmt 0 view .LVU212
 690 001e 0D4C     		ldr	r4, .L32+16
 691 0020 0097     		str	r7, [sp]
 692 0022 0223     		movs	r3, #2
 693 0024 2246     		mov	r2, r4
 694 0026 3178     		ldrb	r1, [r6]	@ zero_extendqisi2
 695 0028 2846     		mov	r0, r5
 696 002a FFF7FEFF 		bl	HAL_I2C_Master_Receive
 697              	.LVL19:
 698              		.loc 1 564 10 discriminator 1 view .LVU213
 699 002e 0A4B     		ldr	r3, .L32+20
 700 0030 1880     		strh	r0, [r3]	@ movhi
 565:Src/main.c    **** 	return ((uint16_t)recData[1]<<8 | recData[2]);
 701              		.loc 1 565 2 is_stmt 1 view .LVU214
 702              		.loc 1 565 27 is_stmt 0 view .LVU215
 703 0032 2246     		mov	r2, r4
 704 0034 12F80109 		ldrb	r0, [r2], #-1	@ zero_extendqisi2
 705              		.loc 1 565 43 view .LVU216
 706 0038 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 566:Src/main.c    **** }
 707              		.loc 1 566 1 view .LVU217
 708 003a 43EA0020 		orr	r0, r3, r0, lsl #8
 709 003e 03B0     		add	sp, sp, #12
 710              	.LCFI12:
 711              		.cfi_def_cfa_offset 20
 712              		@ sp needed
 713 0040 F0BD     		pop	{r4, r5, r6, r7, pc}
 714              	.L33:
 715 0042 00BF     		.align	2
 716              	.L32:
 717 0044 00000000 		.word	I2C_Data
 718 0048 00000000 		.word	devAddr
 719 004c 00000000 		.word	hi2c1
 720 0050 00000000 		.word	sendOK
 721 0054 01000000 		.word	recData+1
 722 0058 00000000 		.word	receive
 723              		.cfi_endproc
 724              	.LFE135:
 726              		.section	.text.GetBusVoltageReg,"ax",%progbits
 727              		.align	1
 728              		.global	GetBusVoltageReg
 729              		.syntax unified
 730              		.thumb
 731              		.thumb_func
 733              	GetBusVoltageReg:
 734              	.LFB136:
 567:Src/main.c    **** 
 568:Src/main.c    **** uint16_t GetBusVoltageReg(void){
 735              		.loc 1 568 32 is_stmt 1 view -0
 736              		.cfi_startproc
 737              		@ args = 0, pretend = 0, frame = 0
 738              		@ frame_needed = 0, uses_anonymous_args = 0
 739 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 740              	.LCFI13:
 741              		.cfi_def_cfa_offset 24
 742              		.cfi_offset 4, -24
 743              		.cfi_offset 5, -20
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 26


 744              		.cfi_offset 6, -16
 745              		.cfi_offset 7, -12
 746              		.cfi_offset 8, -8
 747              		.cfi_offset 14, -4
 748 0004 82B0     		sub	sp, sp, #8
 749              	.LCFI14:
 750              		.cfi_def_cfa_offset 32
 569:Src/main.c    **** 	I2C_Data[0] = 0x02;
 751              		.loc 1 569 2 view .LVU219
 752              		.loc 1 569 14 is_stmt 0 view .LVU220
 753 0006 124A     		ldr	r2, .L36
 754 0008 0227     		movs	r7, #2
 755 000a 1770     		strb	r7, [r2]
 570:Src/main.c    **** 	sendOK = 	HAL_I2C_Master_Transmit(&hi2c1, devAddr, I2C_Data, 1, 10);
 756              		.loc 1 570 2 is_stmt 1 view .LVU221
 757              		.loc 1 570 12 is_stmt 0 view .LVU222
 758 000c 114E     		ldr	r6, .L36+4
 759 000e 124D     		ldr	r5, .L36+8
 760 0010 4FF00A08 		mov	r8, #10
 761 0014 CDF80080 		str	r8, [sp]
 762 0018 0123     		movs	r3, #1
 763 001a 3178     		ldrb	r1, [r6]	@ zero_extendqisi2
 764 001c 2846     		mov	r0, r5
 765 001e FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 766              	.LVL20:
 767              		.loc 1 570 9 discriminator 1 view .LVU223
 768 0022 0E4B     		ldr	r3, .L36+12
 769 0024 1870     		strb	r0, [r3]
 571:Src/main.c    **** 	receive = HAL_I2C_Master_Receive(&hi2c1, devAddr, &recData[1],2,10);
 770              		.loc 1 571 2 is_stmt 1 view .LVU224
 771              		.loc 1 571 12 is_stmt 0 view .LVU225
 772 0026 0E4C     		ldr	r4, .L36+16
 773 0028 CDF80080 		str	r8, [sp]
 774 002c 3B46     		mov	r3, r7
 775 002e 2246     		mov	r2, r4
 776 0030 3178     		ldrb	r1, [r6]	@ zero_extendqisi2
 777 0032 2846     		mov	r0, r5
 778 0034 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 779              	.LVL21:
 780              		.loc 1 571 10 discriminator 1 view .LVU226
 781 0038 0A4B     		ldr	r3, .L36+20
 782 003a 1880     		strh	r0, [r3]	@ movhi
 572:Src/main.c    **** 	return ((uint16_t)recData[1]<<8 | recData[2]);
 783              		.loc 1 572 2 is_stmt 1 view .LVU227
 784              		.loc 1 572 27 is_stmt 0 view .LVU228
 785 003c 2246     		mov	r2, r4
 786 003e 12F80109 		ldrb	r0, [r2], #-1	@ zero_extendqisi2
 787              		.loc 1 572 43 view .LVU229
 788 0042 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 573:Src/main.c    **** }
 789              		.loc 1 573 1 view .LVU230
 790 0044 43EA0020 		orr	r0, r3, r0, lsl #8
 791 0048 02B0     		add	sp, sp, #8
 792              	.LCFI15:
 793              		.cfi_def_cfa_offset 24
 794              		@ sp needed
 795 004a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 27


 796              	.L37:
 797 004e 00BF     		.align	2
 798              	.L36:
 799 0050 00000000 		.word	I2C_Data
 800 0054 00000000 		.word	devAddr
 801 0058 00000000 		.word	hi2c1
 802 005c 00000000 		.word	sendOK
 803 0060 01000000 		.word	recData+1
 804 0064 00000000 		.word	receive
 805              		.cfi_endproc
 806              	.LFE136:
 808              		.section	.text.GetCurrentReg,"ax",%progbits
 809              		.align	1
 810              		.global	GetCurrentReg
 811              		.syntax unified
 812              		.thumb
 813              		.thumb_func
 815              	GetCurrentReg:
 816              	.LFB137:
 574:Src/main.c    **** 
 575:Src/main.c    **** uint16_t GetCurrentReg(void){
 817              		.loc 1 575 29 is_stmt 1 view -0
 818              		.cfi_startproc
 819              		@ args = 0, pretend = 0, frame = 0
 820              		@ frame_needed = 0, uses_anonymous_args = 0
 821 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 822              	.LCFI16:
 823              		.cfi_def_cfa_offset 20
 824              		.cfi_offset 4, -20
 825              		.cfi_offset 5, -16
 826              		.cfi_offset 6, -12
 827              		.cfi_offset 7, -8
 828              		.cfi_offset 14, -4
 829 0002 83B0     		sub	sp, sp, #12
 830              	.LCFI17:
 831              		.cfi_def_cfa_offset 32
 576:Src/main.c    **** 	I2C_Data[0] = 0x04;
 832              		.loc 1 576 2 view .LVU232
 833              		.loc 1 576 14 is_stmt 0 view .LVU233
 834 0004 0F4A     		ldr	r2, .L40
 835 0006 0423     		movs	r3, #4
 836 0008 1370     		strb	r3, [r2]
 577:Src/main.c    **** 	sendOK = 	HAL_I2C_Master_Transmit(&hi2c1, devAddr, I2C_Data, 1, 10);
 837              		.loc 1 577 2 is_stmt 1 view .LVU234
 838              		.loc 1 577 12 is_stmt 0 view .LVU235
 839 000a 0F4E     		ldr	r6, .L40+4
 840 000c 0F4D     		ldr	r5, .L40+8
 841 000e 0A27     		movs	r7, #10
 842 0010 0097     		str	r7, [sp]
 843 0012 0123     		movs	r3, #1
 844 0014 3178     		ldrb	r1, [r6]	@ zero_extendqisi2
 845 0016 2846     		mov	r0, r5
 846 0018 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 847              	.LVL22:
 848              		.loc 1 577 9 discriminator 1 view .LVU236
 849 001c 0C4B     		ldr	r3, .L40+12
 850 001e 1870     		strb	r0, [r3]
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 28


 578:Src/main.c    **** 	receive = HAL_I2C_Master_Receive(&hi2c1, devAddr, &recData[1],2,10);
 851              		.loc 1 578 2 is_stmt 1 view .LVU237
 852              		.loc 1 578 12 is_stmt 0 view .LVU238
 853 0020 0C4C     		ldr	r4, .L40+16
 854 0022 0097     		str	r7, [sp]
 855 0024 0223     		movs	r3, #2
 856 0026 2246     		mov	r2, r4
 857 0028 3178     		ldrb	r1, [r6]	@ zero_extendqisi2
 858 002a 2846     		mov	r0, r5
 859 002c FFF7FEFF 		bl	HAL_I2C_Master_Receive
 860              	.LVL23:
 861              		.loc 1 578 10 discriminator 1 view .LVU239
 862 0030 094B     		ldr	r3, .L40+20
 863 0032 1880     		strh	r0, [r3]	@ movhi
 579:Src/main.c    **** 	return ((uint16_t)recData[1]<<8 | recData[2]);
 864              		.loc 1 579 2 is_stmt 1 view .LVU240
 865              		.loc 1 579 27 is_stmt 0 view .LVU241
 866 0034 2246     		mov	r2, r4
 867 0036 12F80109 		ldrb	r0, [r2], #-1	@ zero_extendqisi2
 868              		.loc 1 579 43 view .LVU242
 869 003a 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 580:Src/main.c    **** }
 870              		.loc 1 580 1 view .LVU243
 871 003c 43EA0020 		orr	r0, r3, r0, lsl #8
 872 0040 03B0     		add	sp, sp, #12
 873              	.LCFI18:
 874              		.cfi_def_cfa_offset 20
 875              		@ sp needed
 876 0042 F0BD     		pop	{r4, r5, r6, r7, pc}
 877              	.L41:
 878              		.align	2
 879              	.L40:
 880 0044 00000000 		.word	I2C_Data
 881 0048 00000000 		.word	devAddr
 882 004c 00000000 		.word	hi2c1
 883 0050 00000000 		.word	sendOK
 884 0054 01000000 		.word	recData+1
 885 0058 00000000 		.word	receive
 886              		.cfi_endproc
 887              	.LFE137:
 889              		.global	__aeabi_i2d
 890              		.global	__aeabi_dmul
 891              		.global	__aeabi_d2f
 892              		.section	.text.GetVoltage,"ax",%progbits
 893              		.align	1
 894              		.global	GetVoltage
 895              		.syntax unified
 896              		.thumb
 897              		.thumb_func
 899              	GetVoltage:
 900              	.LVL24:
 901              	.LFB138:
 581:Src/main.c    **** 
 582:Src/main.c    **** float GetVoltage(uint16_t voltageHex){
 902              		.loc 1 582 38 is_stmt 1 view -0
 903              		.cfi_startproc
 904              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 29


 905              		@ frame_needed = 0, uses_anonymous_args = 0
 906              		.loc 1 582 38 is_stmt 0 view .LVU245
 907 0000 08B5     		push	{r3, lr}
 908              	.LCFI19:
 909              		.cfi_def_cfa_offset 8
 910              		.cfi_offset 3, -8
 911              		.cfi_offset 14, -4
 583:Src/main.c    **** 	uint16_t temp;
 912              		.loc 1 583 2 is_stmt 1 view .LVU246
 584:Src/main.c    **** 	if(voltageHex>>15)
 913              		.loc 1 584 2 view .LVU247
 914              		.loc 1 584 4 is_stmt 0 view .LVU248
 915 0002 10F4004F 		tst	r0, #32768
 916 0006 0AD1     		bne	.L46
 585:Src/main.c    **** 	{
 586:Src/main.c    **** 		temp=~voltageHex;
 587:Src/main.c    **** 		return (((temp*(-1)) + 0x01)*VLSB);
 588:Src/main.c    **** 	}
 589:Src/main.c    **** 	else
 590:Src/main.c    **** 	return voltageHex*VLSB;
 917              		.loc 1 590 2 is_stmt 1 view .LVU249
 918              		.loc 1 590 19 is_stmt 0 view .LVU250
 919 0008 FFF7FEFF 		bl	__aeabi_i2d
 920              	.LVL25:
 921              		.loc 1 590 19 view .LVU251
 922 000c 0022     		movs	r2, #0
 923 000e 0B4B     		ldr	r3, .L47
 924 0010 FFF7FEFF 		bl	__aeabi_dmul
 925              	.LVL26:
 926 0014 FFF7FEFF 		bl	__aeabi_d2f
 927              	.LVL27:
 928 0018 00EE100A 		vmov	s0, r0
 929              	.L42:
 591:Src/main.c    **** }
 930              		.loc 1 591 1 view .LVU252
 931 001c 08BD     		pop	{r3, pc}
 932              	.LVL28:
 933              	.L46:
 586:Src/main.c    **** 		return (((temp*(-1)) + 0x01)*VLSB);
 934              		.loc 1 586 3 is_stmt 1 view .LVU253
 586:Src/main.c    **** 		return (((temp*(-1)) + 0x01)*VLSB);
 935              		.loc 1 586 7 is_stmt 0 view .LVU254
 936 001e C043     		mvns	r0, r0
 937              	.LVL29:
 586:Src/main.c    **** 		return (((temp*(-1)) + 0x01)*VLSB);
 938              		.loc 1 586 7 view .LVU255
 939 0020 80B2     		uxth	r0, r0
 940              	.LVL30:
 587:Src/main.c    **** 	}
 941              		.loc 1 587 3 is_stmt 1 view .LVU256
 587:Src/main.c    **** 	}
 942              		.loc 1 587 31 is_stmt 0 view .LVU257
 943 0022 C0F10100 		rsb	r0, r0, #1
 944              	.LVL31:
 587:Src/main.c    **** 	}
 945              		.loc 1 587 31 view .LVU258
 946 0026 FFF7FEFF 		bl	__aeabi_i2d
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 30


 947              	.LVL32:
 948 002a 0022     		movs	r2, #0
 949 002c 034B     		ldr	r3, .L47
 950 002e FFF7FEFF 		bl	__aeabi_dmul
 951              	.LVL33:
 952 0032 FFF7FEFF 		bl	__aeabi_d2f
 953              	.LVL34:
 954 0036 00EE100A 		vmov	s0, r0
 955 003a EFE7     		b	.L42
 956              	.L48:
 957              		.align	2
 958              	.L47:
 959 003c 0000F43F 		.word	1072955392
 960              		.cfi_endproc
 961              	.LFE138:
 963              		.section	.rodata.PrintTransmitApproximatedVC.str1.4,"aMS",%progbits,1
 964              		.align	2
 965              	.LC0:
 966 0000 2025312E 		.ascii	" %1.3f %1.3f %d %d %d \012\015\000"
 966      33662025 
 966      312E3366 
 966      20256420 
 966      25642025 
 967              		.global	__aeabi_f2d
 968              		.section	.text.PrintTransmitApproximatedVC,"ax",%progbits
 969              		.align	1
 970              		.global	PrintTransmitApproximatedVC
 971              		.syntax unified
 972              		.thumb
 973              		.thumb_func
 975              	PrintTransmitApproximatedVC:
 976              	.LVL35:
 977              	.LFB134:
 553:Src/main.c    ****   voltage = GetVoltage(GetBusVoltageReg())/1000;
 978              		.loc 1 553 1 is_stmt 1 view -0
 979              		.cfi_startproc
 980              		@ args = 0, pretend = 0, frame = 0
 981              		@ frame_needed = 0, uses_anonymous_args = 0
 553:Src/main.c    ****   voltage = GetVoltage(GetBusVoltageReg())/1000;
 982              		.loc 1 553 1 is_stmt 0 view .LVU260
 983 0000 30B5     		push	{r4, r5, lr}
 984              	.LCFI20:
 985              		.cfi_def_cfa_offset 12
 986              		.cfi_offset 4, -12
 987              		.cfi_offset 5, -8
 988              		.cfi_offset 14, -4
 989 0002 2DED028B 		vpush.64	{d8}
 990              	.LCFI21:
 991              		.cfi_def_cfa_offset 20
 992              		.cfi_offset 80, -20
 993              		.cfi_offset 81, -16
 994 0006 89B0     		sub	sp, sp, #36
 995              	.LCFI22:
 996              		.cfi_def_cfa_offset 56
 997 0008 0446     		mov	r4, r0
 554:Src/main.c    ****   current = (outCoarse * approxCoefficient + outFine) * k2 + b2;
 998              		.loc 1 554 3 is_stmt 1 view .LVU261
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 31


 554:Src/main.c    ****   current = (outCoarse * approxCoefficient + outFine) * k2 + b2;
 999              		.loc 1 554 13 is_stmt 0 view .LVU262
 1000 000a FFF7FEFF 		bl	GetBusVoltageReg
 1001              	.LVL36:
 554:Src/main.c    ****   current = (outCoarse * approxCoefficient + outFine) * k2 + b2;
 1002              		.loc 1 554 13 discriminator 1 view .LVU263
 1003 000e FFF7FEFF 		bl	GetVoltage
 1004              	.LVL37:
 554:Src/main.c    ****   current = (outCoarse * approxCoefficient + outFine) * k2 + b2;
 1005              		.loc 1 554 43 discriminator 2 view .LVU264
 1006 0012 DFED257A 		vldr.32	s15, .L51
 1007 0016 80EE278A 		vdiv.f32	s16, s0, s15
 554:Src/main.c    ****   current = (outCoarse * approxCoefficient + outFine) * k2 + b2;
 1008              		.loc 1 554 11 discriminator 2 view .LVU265
 1009 001a 244B     		ldr	r3, .L51+4
 1010 001c 83ED008A 		vstr.32	s16, [r3]
 555:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 1011              		.loc 1 555 3 is_stmt 1 view .LVU266
 555:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 1012              		.loc 1 555 24 is_stmt 0 view .LVU267
 1013 0020 234B     		ldr	r3, .L51+8
 1014 0022 1B88     		ldrh	r3, [r3]
 1015 0024 07EE903A 		vmov	s15, r3	@ int
 1016 0028 B8EEE77A 		vcvt.f32.s32	s14, s15
 1017 002c 214A     		ldr	r2, .L51+12
 1018 002e D2ED007A 		vldr.32	s15, [r2]
 1019 0032 27EE277A 		vmul.f32	s14, s14, s15
 555:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 1020              		.loc 1 555 44 view .LVU268
 1021 0036 204A     		ldr	r2, .L51+16
 1022 0038 1288     		ldrh	r2, [r2]
 1023 003a 07EE902A 		vmov	s15, r2	@ int
 1024 003e F8EEE77A 		vcvt.f32.s32	s15, s15
 1025 0042 77EE877A 		vadd.f32	s15, s15, s14
 555:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 1026              		.loc 1 555 55 view .LVU269
 1027 0046 1D49     		ldr	r1, .L51+20
 1028 0048 91ED007A 		vldr.32	s14, [r1]
 1029 004c 67EE877A 		vmul.f32	s15, s15, s14
 555:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 1030              		.loc 1 555 60 view .LVU270
 1031 0050 1B49     		ldr	r1, .L51+24
 1032 0052 91ED007A 		vldr.32	s14, [r1]
 1033 0056 77EE877A 		vadd.f32	s15, s15, s14
 555:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 1034              		.loc 1 555 11 view .LVU271
 1035 005a 1A49     		ldr	r1, .L51+28
 1036 005c C1ED007A 		vstr.32	s15, [r1]
 556:Src/main.c    ****   HAL_UART_Transmit(&huart2, data2, sizeof data2, 100);
 1037              		.loc 1 556 3 is_stmt 1 view .LVU272
 1038 0060 194D     		ldr	r5, .L51+32
 1039 0062 1A49     		ldr	r1, .L51+36
 1040 0064 0988     		ldrh	r1, [r1]
 1041 0066 0691     		str	r1, [sp, #24]
 1042 0068 0592     		str	r2, [sp, #20]
 1043 006a 0493     		str	r3, [sp, #16]
 1044 006c 17EE900A 		vmov	r0, s15
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 32


 1045 0070 FFF7FEFF 		bl	__aeabi_f2d
 1046              	.LVL38:
 1047 0074 CDE90201 		strd	r0, [sp, #8]
 1048 0078 18EE100A 		vmov	r0, s16
 1049 007c FFF7FEFF 		bl	__aeabi_f2d
 1050              	.LVL39:
 1051 0080 CDE90001 		strd	r0, [sp]
 1052 0084 124A     		ldr	r2, .L51+40
 1053 0086 2821     		movs	r1, #40
 1054 0088 2846     		mov	r0, r5
 1055 008a FFF7FEFF 		bl	snprintf
 1056              	.LVL40:
 557:Src/main.c    ****   HAL_Delay(delay);
 1057              		.loc 1 557 3 view .LVU273
 1058 008e 6423     		movs	r3, #100
 1059 0090 2822     		movs	r2, #40
 1060 0092 2946     		mov	r1, r5
 1061 0094 0F48     		ldr	r0, .L51+44
 1062 0096 FFF7FEFF 		bl	HAL_UART_Transmit
 1063              	.LVL41:
 558:Src/main.c    **** }
 1064              		.loc 1 558 3 view .LVU274
 1065 009a 2046     		mov	r0, r4
 1066 009c FFF7FEFF 		bl	HAL_Delay
 1067              	.LVL42:
 559:Src/main.c    **** 
 1068              		.loc 1 559 1 is_stmt 0 view .LVU275
 1069 00a0 09B0     		add	sp, sp, #36
 1070              	.LCFI23:
 1071              		.cfi_def_cfa_offset 20
 1072              		@ sp needed
 1073 00a2 BDEC028B 		vldm	sp!, {d8}
 1074              	.LCFI24:
 1075              		.cfi_restore 80
 1076              		.cfi_restore 81
 1077              		.cfi_def_cfa_offset 12
 1078 00a6 30BD     		pop	{r4, r5, pc}
 1079              	.LVL43:
 1080              	.L52:
 559:Src/main.c    **** 
 1081              		.loc 1 559 1 view .LVU276
 1082              		.align	2
 1083              	.L51:
 1084 00a8 00007A44 		.word	1148846080
 1085 00ac 00000000 		.word	voltage
 1086 00b0 00000000 		.word	outCoarse
 1087 00b4 00000000 		.word	approxCoefficient
 1088 00b8 00000000 		.word	outFine
 1089 00bc 00000000 		.word	k2
 1090 00c0 00000000 		.word	b2
 1091 00c4 00000000 		.word	current
 1092 00c8 00000000 		.word	data2
 1093 00cc 00000000 		.word	g_counter
 1094 00d0 00000000 		.word	.LC0
 1095 00d4 00000000 		.word	huart2
 1096              		.cfi_endproc
 1097              	.LFE134:
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 33


 1099              		.section	.text.GetShuntVoltage,"ax",%progbits
 1100              		.align	1
 1101              		.global	GetShuntVoltage
 1102              		.syntax unified
 1103              		.thumb
 1104              		.thumb_func
 1106              	GetShuntVoltage:
 1107              	.LVL44:
 1108              	.LFB139:
 592:Src/main.c    **** 
 593:Src/main.c    **** float GetShuntVoltage(uint16_t voltageHex){
 1109              		.loc 1 593 43 is_stmt 1 view -0
 1110              		.cfi_startproc
 1111              		@ args = 0, pretend = 0, frame = 0
 1112              		@ frame_needed = 0, uses_anonymous_args = 0
 1113              		.loc 1 593 43 is_stmt 0 view .LVU278
 1114 0000 08B5     		push	{r3, lr}
 1115              	.LCFI25:
 1116              		.cfi_def_cfa_offset 8
 1117              		.cfi_offset 3, -8
 1118              		.cfi_offset 14, -4
 594:Src/main.c    **** 	uint16_t temp;
 1119              		.loc 1 594 2 is_stmt 1 view .LVU279
 595:Src/main.c    **** 	if(voltageHex>>15)
 1120              		.loc 1 595 2 view .LVU280
 1121              		.loc 1 595 4 is_stmt 0 view .LVU281
 1122 0002 10F4004F 		tst	r0, #32768
 1123 0006 0BD1     		bne	.L57
 596:Src/main.c    **** 	{
 597:Src/main.c    **** 		temp=~voltageHex;
 598:Src/main.c    **** 		return (((temp*(-1)) + 0x01)*VSLSB);
 599:Src/main.c    **** 	}
 600:Src/main.c    **** 	else
 601:Src/main.c    **** 	  return voltageHex*VSLSB;
 1124              		.loc 1 601 4 is_stmt 1 view .LVU282
 1125              		.loc 1 601 21 is_stmt 0 view .LVU283
 1126 0008 FFF7FEFF 		bl	__aeabi_i2d
 1127              	.LVL45:
 1128              		.loc 1 601 21 view .LVU284
 1129 000c 0CA3     		adr	r3, .L58
 1130 000e D3E90023 		ldrd	r2, [r3]
 1131 0012 FFF7FEFF 		bl	__aeabi_dmul
 1132              	.LVL46:
 1133 0016 FFF7FEFF 		bl	__aeabi_d2f
 1134              	.LVL47:
 1135 001a 00EE100A 		vmov	s0, r0
 1136              	.L53:
 602:Src/main.c    **** }
 1137              		.loc 1 602 1 view .LVU285
 1138 001e 08BD     		pop	{r3, pc}
 1139              	.LVL48:
 1140              	.L57:
 597:Src/main.c    **** 		return (((temp*(-1)) + 0x01)*VSLSB);
 1141              		.loc 1 597 3 is_stmt 1 view .LVU286
 597:Src/main.c    **** 		return (((temp*(-1)) + 0x01)*VSLSB);
 1142              		.loc 1 597 7 is_stmt 0 view .LVU287
 1143 0020 C043     		mvns	r0, r0
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 34


 1144              	.LVL49:
 597:Src/main.c    **** 		return (((temp*(-1)) + 0x01)*VSLSB);
 1145              		.loc 1 597 7 view .LVU288
 1146 0022 80B2     		uxth	r0, r0
 1147              	.LVL50:
 598:Src/main.c    **** 	}
 1148              		.loc 1 598 3 is_stmt 1 view .LVU289
 598:Src/main.c    **** 	}
 1149              		.loc 1 598 31 is_stmt 0 view .LVU290
 1150 0024 C0F10100 		rsb	r0, r0, #1
 1151              	.LVL51:
 598:Src/main.c    **** 	}
 1152              		.loc 1 598 31 view .LVU291
 1153 0028 FFF7FEFF 		bl	__aeabi_i2d
 1154              	.LVL52:
 1155 002c 04A3     		adr	r3, .L58
 1156 002e D3E90023 		ldrd	r2, [r3]
 1157 0032 FFF7FEFF 		bl	__aeabi_dmul
 1158              	.LVL53:
 1159 0036 FFF7FEFF 		bl	__aeabi_d2f
 1160              	.LVL54:
 1161 003a 00EE100A 		vmov	s0, r0
 1162 003e EEE7     		b	.L53
 1163              	.L59:
 1164              		.align	3
 1165              	.L58:
 1166 0040 7B14AE47 		.word	1202590843
 1167 0044 E17A643F 		.word	1063549665
 1168              		.cfi_endproc
 1169              	.LFE139:
 1171              		.section	.text.GetCurrent,"ax",%progbits
 1172              		.align	1
 1173              		.global	GetCurrent
 1174              		.syntax unified
 1175              		.thumb
 1176              		.thumb_func
 1178              	GetCurrent:
 1179              	.LVL55:
 1180              	.LFB140:
 603:Src/main.c    **** 
 604:Src/main.c    **** float GetCurrent(uint16_t currentHex){
 1181              		.loc 1 604 38 is_stmt 1 view -0
 1182              		.cfi_startproc
 1183              		@ args = 0, pretend = 0, frame = 0
 1184              		@ frame_needed = 0, uses_anonymous_args = 0
 1185              		.loc 1 604 38 is_stmt 0 view .LVU293
 1186 0000 08B5     		push	{r3, lr}
 1187              	.LCFI26:
 1188              		.cfi_def_cfa_offset 8
 1189              		.cfi_offset 3, -8
 1190              		.cfi_offset 14, -4
 605:Src/main.c    ****   /*	
 606:Src/main.c    ****   uint16_t temp;
 607:Src/main.c    **** 	if((currentHex>>15) & (currentHex<=0xFFF9))
 608:Src/main.c    **** 		return 0;
 609:Src/main.c    **** 	if((currentHex>>15) & (currentHex>=0xFFFA))
 610:Src/main.c    ****   {
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 35


 611:Src/main.c    **** 		temp = ~currentHex;
 612:Src/main.c    **** 	  return (((temp*(-1))+ 0x06)*CLSB);
 613:Src/main.c    **** 	}
 614:Src/main.c    ****   else
 615:Src/main.c    **** 	  return (currentHex+5)*CLSB;
 616:Src/main.c    ****   */
 617:Src/main.c    **** 	uint16_t temp;
 1191              		.loc 1 617 2 is_stmt 1 view .LVU294
 618:Src/main.c    **** 	if(currentHex>>15)
 1192              		.loc 1 618 2 view .LVU295
 1193              		.loc 1 618 4 is_stmt 0 view .LVU296
 1194 0002 10F4004F 		tst	r0, #32768
 1195 0006 0BD1     		bne	.L64
 619:Src/main.c    **** 	{
 620:Src/main.c    **** 		temp=~currentHex;
 621:Src/main.c    **** 		return (((temp*(-1))+ 0x01)*CLSB);
 622:Src/main.c    **** 	}
 623:Src/main.c    **** 	else
 624:Src/main.c    **** 	  return currentHex*CLSB;
 1196              		.loc 1 624 4 is_stmt 1 view .LVU297
 1197              		.loc 1 624 21 is_stmt 0 view .LVU298
 1198 0008 FFF7FEFF 		bl	__aeabi_i2d
 1199              	.LVL56:
 1200              		.loc 1 624 21 view .LVU299
 1201 000c 0CA3     		adr	r3, .L65
 1202 000e D3E90023 		ldrd	r2, [r3]
 1203 0012 FFF7FEFF 		bl	__aeabi_dmul
 1204              	.LVL57:
 1205 0016 FFF7FEFF 		bl	__aeabi_d2f
 1206              	.LVL58:
 1207 001a 00EE100A 		vmov	s0, r0
 1208              	.L60:
 625:Src/main.c    **** }
 1209              		.loc 1 625 1 view .LVU300
 1210 001e 08BD     		pop	{r3, pc}
 1211              	.LVL59:
 1212              	.L64:
 620:Src/main.c    **** 		return (((temp*(-1))+ 0x01)*CLSB);
 1213              		.loc 1 620 3 is_stmt 1 view .LVU301
 620:Src/main.c    **** 		return (((temp*(-1))+ 0x01)*CLSB);
 1214              		.loc 1 620 7 is_stmt 0 view .LVU302
 1215 0020 C043     		mvns	r0, r0
 1216              	.LVL60:
 620:Src/main.c    **** 		return (((temp*(-1))+ 0x01)*CLSB);
 1217              		.loc 1 620 7 view .LVU303
 1218 0022 80B2     		uxth	r0, r0
 1219              	.LVL61:
 621:Src/main.c    **** 	}
 1220              		.loc 1 621 3 is_stmt 1 view .LVU304
 621:Src/main.c    **** 	}
 1221              		.loc 1 621 30 is_stmt 0 view .LVU305
 1222 0024 C0F10100 		rsb	r0, r0, #1
 1223              	.LVL62:
 621:Src/main.c    **** 	}
 1224              		.loc 1 621 30 view .LVU306
 1225 0028 FFF7FEFF 		bl	__aeabi_i2d
 1226              	.LVL63:
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 36


 1227 002c 04A3     		adr	r3, .L65
 1228 002e D3E90023 		ldrd	r2, [r3]
 1229 0032 FFF7FEFF 		bl	__aeabi_dmul
 1230              	.LVL64:
 1231 0036 FFF7FEFF 		bl	__aeabi_d2f
 1232              	.LVL65:
 1233 003a 00EE100A 		vmov	s0, r0
 1234 003e EEE7     		b	.L60
 1235              	.L66:
 1236              		.align	3
 1237              	.L65:
 1238 0040 9A999999 		.word	-1717986918
 1239 0044 9999993F 		.word	1067030937
 1240              		.cfi_endproc
 1241              	.LFE140:
 1243              		.section	.text.PrintTransmitMeasuredVC,"ax",%progbits
 1244              		.align	1
 1245              		.global	PrintTransmitMeasuredVC
 1246              		.syntax unified
 1247              		.thumb
 1248              		.thumb_func
 1250              	PrintTransmitMeasuredVC:
 1251              	.LVL66:
 1252              	.LFB133:
 539:Src/main.c    ****   voltage = GetVoltage(GetBusVoltageReg())/1000;
 1253              		.loc 1 539 1 is_stmt 1 view -0
 1254              		.cfi_startproc
 1255              		@ args = 0, pretend = 0, frame = 0
 1256              		@ frame_needed = 0, uses_anonymous_args = 0
 539:Src/main.c    ****   voltage = GetVoltage(GetBusVoltageReg())/1000;
 1257              		.loc 1 539 1 is_stmt 0 view .LVU308
 1258 0000 70B5     		push	{r4, r5, r6, lr}
 1259              	.LCFI27:
 1260              		.cfi_def_cfa_offset 16
 1261              		.cfi_offset 4, -16
 1262              		.cfi_offset 5, -12
 1263              		.cfi_offset 6, -8
 1264              		.cfi_offset 14, -4
 1265 0002 88B0     		sub	sp, sp, #32
 1266              	.LCFI28:
 1267              		.cfi_def_cfa_offset 48
 1268 0004 0446     		mov	r4, r0
 540:Src/main.c    ****   current = GetCurrent(GetCurrentReg());
 1269              		.loc 1 540 3 is_stmt 1 view .LVU309
 540:Src/main.c    ****   current = GetCurrent(GetCurrentReg());
 1270              		.loc 1 540 13 is_stmt 0 view .LVU310
 1271 0006 FFF7FEFF 		bl	GetBusVoltageReg
 1272              	.LVL67:
 540:Src/main.c    ****   current = GetCurrent(GetCurrentReg());
 1273              		.loc 1 540 13 discriminator 1 view .LVU311
 1274 000a FFF7FEFF 		bl	GetVoltage
 1275              	.LVL68:
 540:Src/main.c    ****   current = GetCurrent(GetCurrentReg());
 1276              		.loc 1 540 43 discriminator 2 view .LVU312
 1277 000e 9FED197A 		vldr.32	s14, .L69
 1278 0012 C0EE077A 		vdiv.f32	s15, s0, s14
 540:Src/main.c    ****   current = GetCurrent(GetCurrentReg());
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 37


 1279              		.loc 1 540 11 discriminator 2 view .LVU313
 1280 0016 184E     		ldr	r6, .L69+4
 1281 0018 C6ED007A 		vstr.32	s15, [r6]
 541:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 1282              		.loc 1 541 3 is_stmt 1 view .LVU314
 541:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 1283              		.loc 1 541 13 is_stmt 0 view .LVU315
 1284 001c FFF7FEFF 		bl	GetCurrentReg
 1285              	.LVL69:
 541:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 1286              		.loc 1 541 13 discriminator 1 view .LVU316
 1287 0020 FFF7FEFF 		bl	GetCurrent
 1288              	.LVL70:
 1289 0024 10EE100A 		vmov	r0, s0
 541:Src/main.c    ****   snprintf(data2, sizeof data2, " %1.3f %1.3f %d %d %d \n\r", voltage, current, outCoarse, outFine,
 1290              		.loc 1 541 11 discriminator 2 view .LVU317
 1291 0028 144B     		ldr	r3, .L69+8
 1292 002a 83ED000A 		vstr.32	s0, [r3]
 542:Src/main.c    ****   HAL_UART_Transmit(&huart2, data2, sizeof data2, 100);
 1293              		.loc 1 542 3 is_stmt 1 view .LVU318
 1294 002e 144D     		ldr	r5, .L69+12
 1295 0030 144B     		ldr	r3, .L69+16
 1296 0032 1B88     		ldrh	r3, [r3]
 1297 0034 0693     		str	r3, [sp, #24]
 1298 0036 144B     		ldr	r3, .L69+20
 1299 0038 1B88     		ldrh	r3, [r3]
 1300 003a 0593     		str	r3, [sp, #20]
 1301 003c 134B     		ldr	r3, .L69+24
 1302 003e 1B88     		ldrh	r3, [r3]
 1303 0040 0493     		str	r3, [sp, #16]
 1304 0042 FFF7FEFF 		bl	__aeabi_f2d
 1305              	.LVL71:
 1306 0046 CDE90201 		strd	r0, [sp, #8]
 1307 004a 3068     		ldr	r0, [r6]	@ float
 1308 004c FFF7FEFF 		bl	__aeabi_f2d
 1309              	.LVL72:
 1310 0050 CDE90001 		strd	r0, [sp]
 1311 0054 0E4A     		ldr	r2, .L69+28
 1312 0056 2821     		movs	r1, #40
 1313 0058 2846     		mov	r0, r5
 1314 005a FFF7FEFF 		bl	snprintf
 1315              	.LVL73:
 543:Src/main.c    ****   HAL_Delay(delay);
 1316              		.loc 1 543 3 view .LVU319
 1317 005e 6423     		movs	r3, #100
 1318 0060 2822     		movs	r2, #40
 1319 0062 2946     		mov	r1, r5
 1320 0064 0B48     		ldr	r0, .L69+32
 1321 0066 FFF7FEFF 		bl	HAL_UART_Transmit
 1322              	.LVL74:
 544:Src/main.c    **** }
 1323              		.loc 1 544 3 view .LVU320
 1324 006a 2046     		mov	r0, r4
 1325 006c FFF7FEFF 		bl	HAL_Delay
 1326              	.LVL75:
 545:Src/main.c    **** 
 1327              		.loc 1 545 1 is_stmt 0 view .LVU321
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 38


 1328 0070 08B0     		add	sp, sp, #32
 1329              	.LCFI29:
 1330              		.cfi_def_cfa_offset 16
 1331              		@ sp needed
 1332 0072 70BD     		pop	{r4, r5, r6, pc}
 1333              	.LVL76:
 1334              	.L70:
 545:Src/main.c    **** 
 1335              		.loc 1 545 1 view .LVU322
 1336              		.align	2
 1337              	.L69:
 1338 0074 00007A44 		.word	1148846080
 1339 0078 00000000 		.word	voltage
 1340 007c 00000000 		.word	current
 1341 0080 00000000 		.word	data2
 1342 0084 00000000 		.word	g_counter
 1343 0088 00000000 		.word	outFine
 1344 008c 00000000 		.word	outCoarse
 1345 0090 00000000 		.word	.LC0
 1346 0094 00000000 		.word	huart2
 1347              		.cfi_endproc
 1348              	.LFE133:
 1350              		.section	.text.main,"ax",%progbits
 1351              		.align	1
 1352              		.global	main
 1353              		.syntax unified
 1354              		.thumb
 1355              		.thumb_func
 1357              	main:
 1358              	.LFB126:
 162:Src/main.c    ****   /* USER CODE BEGIN 1 */
 1359              		.loc 1 162 1 is_stmt 1 view -0
 1360              		.cfi_startproc
 1361              		@ Volatile: function does not return.
 1362              		@ args = 0, pretend = 0, frame = 0
 1363              		@ frame_needed = 0, uses_anonymous_args = 0
 1364 0000 80B5     		push	{r7, lr}
 1365              	.LCFI30:
 1366              		.cfi_def_cfa_offset 8
 1367              		.cfi_offset 7, -8
 1368              		.cfi_offset 14, -4
 1369 0002 82B0     		sub	sp, sp, #8
 1370              	.LCFI31:
 1371              		.cfi_def_cfa_offset 16
 170:Src/main.c    **** 
 1372              		.loc 1 170 3 view .LVU324
 1373 0004 FFF7FEFF 		bl	HAL_Init
 1374              	.LVL77:
 177:Src/main.c    **** 
 1375              		.loc 1 177 3 view .LVU325
 1376 0008 FFF7FEFF 		bl	SystemClock_Config
 1377              	.LVL78:
 184:Src/main.c    ****   MX_USART2_UART_Init();
 1378              		.loc 1 184 3 view .LVU326
 1379 000c FFF7FEFF 		bl	MX_GPIO_Init
 1380              	.LVL79:
 185:Src/main.c    ****   MX_I2C1_Init();
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 39


 1381              		.loc 1 185 3 view .LVU327
 1382 0010 FFF7FEFF 		bl	MX_USART2_UART_Init
 1383              	.LVL80:
 186:Src/main.c    ****   MX_SPI1_Init();
 1384              		.loc 1 186 3 view .LVU328
 1385 0014 FFF7FEFF 		bl	MX_I2C1_Init
 1386              	.LVL81:
 187:Src/main.c    ****   /* USER CODE BEGIN 2 */
 1387              		.loc 1 187 3 view .LVU329
 1388 0018 FFF7FEFF 		bl	MX_SPI1_Init
 1389              	.LVL82:
 194:Src/main.c    **** 	I2C_Data[0] = 0x00;
 1390              		.loc 1 194 2 view .LVU330
 194:Src/main.c    **** 	I2C_Data[0] = 0x00;
 1391              		.loc 1 194 13 is_stmt 0 view .LVU331
 1392 001c 594B     		ldr	r3, .L76
 1393 001e 44F22752 		movw	r2, #17703
 1394 0022 1A80     		strh	r2, [r3]	@ movhi
 195:Src/main.c    **** 	I2C_Data[1] = (configWord & 0xFF00) >> 8;
 1395              		.loc 1 195 2 is_stmt 1 view .LVU332
 195:Src/main.c    **** 	I2C_Data[1] = (configWord & 0xFF00) >> 8;
 1396              		.loc 1 195 14 is_stmt 0 view .LVU333
 1397 0024 584C     		ldr	r4, .L76+4
 1398 0026 0025     		movs	r5, #0
 1399 0028 2570     		strb	r5, [r4]
 196:Src/main.c    **** 	I2C_Data[2] = (configWord & 0x00FF);
 1400              		.loc 1 196 2 is_stmt 1 view .LVU334
 196:Src/main.c    **** 	I2C_Data[2] = (configWord & 0x00FF);
 1401              		.loc 1 196 14 is_stmt 0 view .LVU335
 1402 002a 4523     		movs	r3, #69
 1403 002c 6370     		strb	r3, [r4, #1]
 197:Src/main.c    **** 	HAL_I2C_Master_Transmit(&hi2c1, devAddr, I2C_Data, 3, 20);
 1404              		.loc 1 197 2 is_stmt 1 view .LVU336
 197:Src/main.c    **** 	HAL_I2C_Master_Transmit(&hi2c1, devAddr, I2C_Data, 3, 20);
 1405              		.loc 1 197 14 is_stmt 0 view .LVU337
 1406 002e 2723     		movs	r3, #39
 1407 0030 A370     		strb	r3, [r4, #2]
 198:Src/main.c    **** 	receive = HAL_I2C_Master_Receive(&hi2c1, devAddr, &recData[1],2,10);
 1408              		.loc 1 198 2 is_stmt 1 view .LVU338
 1409 0032 DFF88481 		ldr	r8, .L76+52
 1410 0036 554F     		ldr	r7, .L76+8
 1411 0038 1423     		movs	r3, #20
 1412 003a 0093     		str	r3, [sp]
 1413 003c 0323     		movs	r3, #3
 1414 003e 2246     		mov	r2, r4
 1415 0040 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 1416 0044 3846     		mov	r0, r7
 1417 0046 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 1418              	.LVL83:
 199:Src/main.c    **** 	
 1419              		.loc 1 199 2 view .LVU339
 199:Src/main.c    **** 	
 1420              		.loc 1 199 12 is_stmt 0 view .LVU340
 1421 004a DFF870A1 		ldr	r10, .L76+56
 1422 004e 0A26     		movs	r6, #10
 1423 0050 0096     		str	r6, [sp]
 1424 0052 0223     		movs	r3, #2
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 40


 1425 0054 5246     		mov	r2, r10
 1426 0056 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 1427 005a 3846     		mov	r0, r7
 1428 005c FFF7FEFF 		bl	HAL_I2C_Master_Receive
 1429              	.LVL84:
 199:Src/main.c    **** 	
 1430              		.loc 1 199 10 discriminator 1 view .LVU341
 1431 0060 DFF85C91 		ldr	r9, .L76+60
 1432 0064 A9F80000 		strh	r0, [r9]	@ movhi
 202:Src/main.c    **** 	I2C_Data[0] = 0x05;
 1433              		.loc 1 202 2 is_stmt 1 view .LVU342
 202:Src/main.c    **** 	I2C_Data[0] = 0x05;
 1434              		.loc 1 202 12 is_stmt 0 view .LVU343
 1435 0068 494B     		ldr	r3, .L76+12
 1436 006a 4FF40062 		mov	r2, #2048
 1437 006e 1A80     		strh	r2, [r3]	@ movhi
 203:Src/main.c    **** 	I2C_Data[1] = (calibWord & 0xFF00) >> 8;
 1438              		.loc 1 203 2 is_stmt 1 view .LVU344
 203:Src/main.c    **** 	I2C_Data[1] = (calibWord & 0xFF00) >> 8;
 1439              		.loc 1 203 14 is_stmt 0 view .LVU345
 1440 0070 0523     		movs	r3, #5
 1441 0072 2370     		strb	r3, [r4]
 204:Src/main.c    **** 	I2C_Data[2] = (calibWord & 0x00FF);
 1442              		.loc 1 204 2 is_stmt 1 view .LVU346
 204:Src/main.c    **** 	I2C_Data[2] = (calibWord & 0x00FF);
 1443              		.loc 1 204 14 is_stmt 0 view .LVU347
 1444 0074 0823     		movs	r3, #8
 1445 0076 6370     		strb	r3, [r4, #1]
 205:Src/main.c    **** 	sendOK = 	HAL_I2C_Master_Transmit(&hi2c1, devAddr, I2C_Data, 3, 10);
 1446              		.loc 1 205 2 is_stmt 1 view .LVU348
 205:Src/main.c    **** 	sendOK = 	HAL_I2C_Master_Transmit(&hi2c1, devAddr, I2C_Data, 3, 10);
 1447              		.loc 1 205 14 is_stmt 0 view .LVU349
 1448 0078 A570     		strb	r5, [r4, #2]
 206:Src/main.c    **** 	receive = HAL_I2C_Master_Receive(&hi2c1, devAddr, &recData[1],2,10);
 1449              		.loc 1 206 2 is_stmt 1 view .LVU350
 206:Src/main.c    **** 	receive = HAL_I2C_Master_Receive(&hi2c1, devAddr, &recData[1],2,10);
 1450              		.loc 1 206 12 is_stmt 0 view .LVU351
 1451 007a 0096     		str	r6, [sp]
 1452 007c 0323     		movs	r3, #3
 1453 007e 2246     		mov	r2, r4
 1454 0080 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 1455 0084 3846     		mov	r0, r7
 1456 0086 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 1457              	.LVL85:
 206:Src/main.c    **** 	receive = HAL_I2C_Master_Receive(&hi2c1, devAddr, &recData[1],2,10);
 1458              		.loc 1 206 9 discriminator 1 view .LVU352
 1459 008a 424B     		ldr	r3, .L76+16
 1460 008c 1870     		strb	r0, [r3]
 207:Src/main.c    **** 	HAL_Delay(100);
 1461              		.loc 1 207 2 is_stmt 1 view .LVU353
 207:Src/main.c    **** 	HAL_Delay(100);
 1462              		.loc 1 207 12 is_stmt 0 view .LVU354
 1463 008e 0096     		str	r6, [sp]
 1464 0090 0223     		movs	r3, #2
 1465 0092 5246     		mov	r2, r10
 1466 0094 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 1467 0098 3846     		mov	r0, r7
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 41


 1468 009a FFF7FEFF 		bl	HAL_I2C_Master_Receive
 1469              	.LVL86:
 207:Src/main.c    **** 	HAL_Delay(100);
 1470              		.loc 1 207 10 discriminator 1 view .LVU355
 1471 009e A9F80000 		strh	r0, [r9]	@ movhi
 208:Src/main.c    **** 	
 1472              		.loc 1 208 2 is_stmt 1 view .LVU356
 1473 00a2 6420     		movs	r0, #100
 1474 00a4 FFF7FEFF 		bl	HAL_Delay
 1475              	.LVL87:
 214:Src/main.c    ****   spiData[0] = 0x28;   //00101000
 1476              		.loc 1 214 3 view .LVU357
 214:Src/main.c    ****   spiData[0] = 0x28;   //00101000
 1477              		.loc 1 214 7 is_stmt 0 view .LVU358
 1478 00a8 DFF8F4A0 		ldr	r10, .L76+28
 1479 00ac 0127     		movs	r7, #1
 1480 00ae AAF80070 		strh	r7, [r10]	@ movhi
 215:Src/main.c    ****   spiData[1] = (out & 0xFF00) >> 8;
 1481              		.loc 1 215 3 is_stmt 1 view .LVU359
 215:Src/main.c    ****   spiData[1] = (out & 0xFF00) >> 8;
 1482              		.loc 1 215 14 is_stmt 0 view .LVU360
 1483 00b2 394C     		ldr	r4, .L76+20
 1484 00b4 2823     		movs	r3, #40
 1485 00b6 2370     		strb	r3, [r4]
 216:Src/main.c    ****   spiData[2] = (out & 0x00FF);
 1486              		.loc 1 216 3 is_stmt 1 view .LVU361
 216:Src/main.c    ****   spiData[2] = (out & 0x00FF);
 1487              		.loc 1 216 14 is_stmt 0 view .LVU362
 1488 00b8 6570     		strb	r5, [r4, #1]
 217:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET); 
 1489              		.loc 1 217 3 is_stmt 1 view .LVU363
 217:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET); 
 1490              		.loc 1 217 14 is_stmt 0 view .LVU364
 1491 00ba A770     		strb	r7, [r4, #2]
 218:Src/main.c    ****   HAL_SPI_Transmit(&hspi1, spiData, 3, 10);
 1492              		.loc 1 218 3 is_stmt 1 view .LVU365
 1493 00bc DFF8DC80 		ldr	r8, .L76+24
 1494 00c0 2A46     		mov	r2, r5
 1495 00c2 8021     		movs	r1, #128
 1496 00c4 4046     		mov	r0, r8
 1497 00c6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1498              	.LVL88:
 219:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_SET);
 1499              		.loc 1 219 3 view .LVU366
 1500 00ca DFF8D890 		ldr	r9, .L76+32
 1501 00ce 3346     		mov	r3, r6
 1502 00d0 0322     		movs	r2, #3
 1503 00d2 2146     		mov	r1, r4
 1504 00d4 4846     		mov	r0, r9
 1505 00d6 FFF7FEFF 		bl	HAL_SPI_Transmit
 1506              	.LVL89:
 220:Src/main.c    **** 
 1507              		.loc 1 220 3 view .LVU367
 1508 00da 3A46     		mov	r2, r7
 1509 00dc 8021     		movs	r1, #128
 1510 00de 4046     		mov	r0, r8
 1511 00e0 FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 42


 1512              	.LVL90:
 223:Src/main.c    ****   spiData[0] = 0x38;   //00111000 = 0x38
 1513              		.loc 1 223 3 view .LVU368
 223:Src/main.c    ****   spiData[0] = 0x38;   //00111000 = 0x38
 1514              		.loc 1 223 7 is_stmt 0 view .LVU369
 1515 00e4 AAF80070 		strh	r7, [r10]	@ movhi
 224:Src/main.c    ****   spiData[1] = (out & 0xFF00) >> 8;
 1516              		.loc 1 224 3 is_stmt 1 view .LVU370
 224:Src/main.c    ****   spiData[1] = (out & 0xFF00) >> 8;
 1517              		.loc 1 224 14 is_stmt 0 view .LVU371
 1518 00e8 3823     		movs	r3, #56
 1519 00ea 2370     		strb	r3, [r4]
 225:Src/main.c    ****   spiData[2] = (out & 0x00FF);
 1520              		.loc 1 225 3 is_stmt 1 view .LVU372
 225:Src/main.c    ****   spiData[2] = (out & 0x00FF);
 1521              		.loc 1 225 14 is_stmt 0 view .LVU373
 1522 00ec 6570     		strb	r5, [r4, #1]
 226:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET);
 1523              		.loc 1 226 3 is_stmt 1 view .LVU374
 226:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET);
 1524              		.loc 1 226 14 is_stmt 0 view .LVU375
 1525 00ee A770     		strb	r7, [r4, #2]
 227:Src/main.c    ****   if(!HAL_SPI_Transmit(&hspi1, spiData, 3, 10))
 1526              		.loc 1 227 3 is_stmt 1 view .LVU376
 1527 00f0 2A46     		mov	r2, r5
 1528 00f2 8021     		movs	r1, #128
 1529 00f4 4046     		mov	r0, r8
 1530 00f6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1531              	.LVL91:
 228:Src/main.c    ****     HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_5);
 1532              		.loc 1 228 3 view .LVU377
 228:Src/main.c    ****     HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_5);
 1533              		.loc 1 228 7 is_stmt 0 view .LVU378
 1534 00fa 3346     		mov	r3, r6
 1535 00fc 0322     		movs	r2, #3
 1536 00fe 2146     		mov	r1, r4
 1537 0100 4846     		mov	r0, r9
 1538 0102 FFF7FEFF 		bl	HAL_SPI_Transmit
 1539              	.LVL92:
 228:Src/main.c    ****     HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_5);
 1540              		.loc 1 228 5 discriminator 1 view .LVU379
 1541 0106 0028     		cmp	r0, #0
 1542 0108 37D0     		beq	.L75
 1543              	.L72:
 230:Src/main.c    ****   //HAL_Delay(1);
 1544              		.loc 1 230 3 is_stmt 1 view .LVU380
 1545 010a 244E     		ldr	r6, .L76+24
 1546 010c 0122     		movs	r2, #1
 1547 010e 8021     		movs	r1, #128
 1548 0110 3046     		mov	r0, r6
 1549 0112 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1550              	.LVL93:
 234:Src/main.c    ****   out = 0x000C;
 1551              		.loc 1 234 3 view .LVU381
 1552 0116 0A20     		movs	r0, #10
 1553 0118 FFF7FEFF 		bl	HAL_Delay
 1554              	.LVL94:
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 43


 235:Src/main.c    ****   spiData[0] = 0x30;   //00110000 = 0x30
 1555              		.loc 1 235 3 view .LVU382
 235:Src/main.c    ****   spiData[0] = 0x30;   //00110000 = 0x30
 1556              		.loc 1 235 7 is_stmt 0 view .LVU383
 1557 011c 0C23     		movs	r3, #12
 1558 011e 204A     		ldr	r2, .L76+28
 1559 0120 1380     		strh	r3, [r2]	@ movhi
 236:Src/main.c    ****   spiData[1] = (out & 0xFF00) >> 8;
 1560              		.loc 1 236 3 is_stmt 1 view .LVU384
 236:Src/main.c    ****   spiData[1] = (out & 0xFF00) >> 8;
 1561              		.loc 1 236 14 is_stmt 0 view .LVU385
 1562 0122 1D4D     		ldr	r5, .L76+20
 1563 0124 3022     		movs	r2, #48
 1564 0126 2A70     		strb	r2, [r5]
 237:Src/main.c    ****   spiData[2] = (out & 0x00FF);
 1565              		.loc 1 237 3 is_stmt 1 view .LVU386
 237:Src/main.c    ****   spiData[2] = (out & 0x00FF);
 1566              		.loc 1 237 14 is_stmt 0 view .LVU387
 1567 0128 0024     		movs	r4, #0
 1568 012a 6C70     		strb	r4, [r5, #1]
 238:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET);
 1569              		.loc 1 238 3 is_stmt 1 view .LVU388
 238:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_RESET);
 1570              		.loc 1 238 14 is_stmt 0 view .LVU389
 1571 012c AB70     		strb	r3, [r5, #2]
 239:Src/main.c    ****   HAL_SPI_Transmit(&hspi1, spiData, 3, 10);
 1572              		.loc 1 239 3 is_stmt 1 view .LVU390
 1573 012e 2246     		mov	r2, r4
 1574 0130 8021     		movs	r1, #128
 1575 0132 3046     		mov	r0, r6
 1576 0134 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1577              	.LVL95:
 240:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_SET);
 1578              		.loc 1 240 3 view .LVU391
 1579 0138 0A23     		movs	r3, #10
 1580 013a 0322     		movs	r2, #3
 1581 013c 2946     		mov	r1, r5
 1582 013e 1948     		ldr	r0, .L76+32
 1583 0140 FFF7FEFF 		bl	HAL_SPI_Transmit
 1584              	.LVL96:
 241:Src/main.c    ****   /*
 1585              		.loc 1 241 3 view .LVU392
 1586 0144 0122     		movs	r2, #1
 1587 0146 8021     		movs	r1, #128
 1588 0148 3046     		mov	r0, r6
 1589 014a FFF7FEFF 		bl	HAL_GPIO_WritePin
 1590              	.LVL97:
 254:Src/main.c    ****   outFine = 4000;
 1591              		.loc 1 254 3 view .LVU393
 254:Src/main.c    ****   outFine = 4000;
 1592              		.loc 1 254 13 is_stmt 0 view .LVU394
 1593 014e 164D     		ldr	r5, .L76+36
 1594 0150 2C80     		strh	r4, [r5]	@ movhi
 255:Src/main.c    ****   SetDACOut(outFine, CHANNEL_B);
 1595              		.loc 1 255 3 is_stmt 1 view .LVU395
 255:Src/main.c    ****   SetDACOut(outFine, CHANNEL_B);
 1596              		.loc 1 255 11 is_stmt 0 view .LVU396
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 44


 1597 0152 4FF47A60 		mov	r0, #4000
 1598 0156 154B     		ldr	r3, .L76+40
 1599 0158 1880     		strh	r0, [r3]	@ movhi
 256:Src/main.c    ****   SetDACOut(outCoarse, CHANNEL_C);
 1600              		.loc 1 256 3 is_stmt 1 view .LVU397
 1601 015a 0221     		movs	r1, #2
 1602 015c FFF7FEFF 		bl	SetDACOut
 1603              	.LVL98:
 257:Src/main.c    **** 	SetDACOut(0, CHANNEL_D);
 1604              		.loc 1 257 3 view .LVU398
 1605 0160 0321     		movs	r1, #3
 1606 0162 2888     		ldrh	r0, [r5]
 1607 0164 FFF7FEFF 		bl	SetDACOut
 1608              	.LVL99:
 258:Src/main.c    **** 
 1609              		.loc 1 258 2 view .LVU399
 1610 0168 0421     		movs	r1, #4
 1611 016a 2046     		mov	r0, r4
 1612 016c FFF7FEFF 		bl	SetDACOut
 1613              	.LVL100:
 1614              	.L73:
 264:Src/main.c    ****   {
 1615              		.loc 1 264 3 view .LVU400
 274:Src/main.c    ****     
 1616              		.loc 1 274 5 discriminator 1 view .LVU401
 1617 0170 0F4B     		ldr	r3, .L76+44
 1618 0172 1868     		ldr	r0, [r3]
 1619 0174 FFF7FEFF 		bl	PrintTransmitMeasuredVC
 1620              	.LVL101:
 264:Src/main.c    ****   {
 1621              		.loc 1 264 9 view .LVU402
 1622 0178 FAE7     		b	.L73
 1623              	.L75:
 229:Src/main.c    ****   HAL_GPIO_WritePin(GPIOC, GPIO_PIN_7, GPIO_PIN_SET);
 1624              		.loc 1 229 5 view .LVU403
 1625 017a 2021     		movs	r1, #32
 1626 017c 0D48     		ldr	r0, .L76+48
 1627 017e FFF7FEFF 		bl	HAL_GPIO_TogglePin
 1628              	.LVL102:
 1629 0182 C2E7     		b	.L72
 1630              	.L77:
 1631              		.align	2
 1632              	.L76:
 1633 0184 00000000 		.word	configWord
 1634 0188 00000000 		.word	I2C_Data
 1635 018c 00000000 		.word	hi2c1
 1636 0190 00000000 		.word	calibWord
 1637 0194 00000000 		.word	sendOK
 1638 0198 00000000 		.word	spiData
 1639 019c 00080240 		.word	1073874944
 1640 01a0 00000000 		.word	out
 1641 01a4 00000000 		.word	hspi1
 1642 01a8 00000000 		.word	outCoarse
 1643 01ac 00000000 		.word	outFine
 1644 01b0 00000000 		.word	g_delay
 1645 01b4 00000240 		.word	1073872896
 1646 01b8 00000000 		.word	devAddr
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 45


 1647 01bc 01000000 		.word	recData+1
 1648 01c0 00000000 		.word	receive
 1649              		.cfi_endproc
 1650              	.LFE126:
 1652              		.section	.text.Error_Handler,"ax",%progbits
 1653              		.align	1
 1654              		.global	Error_Handler
 1655              		.syntax unified
 1656              		.thumb
 1657              		.thumb_func
 1659              	Error_Handler:
 1660              	.LFB141:
 626:Src/main.c    **** 
 627:Src/main.c    **** /* USER CODE END 4 */
 628:Src/main.c    **** 
 629:Src/main.c    **** /**
 630:Src/main.c    ****   * @brief  This function is executed in case of error occurrence.
 631:Src/main.c    ****   * @retval None
 632:Src/main.c    ****   */
 633:Src/main.c    **** void Error_Handler(void)
 634:Src/main.c    **** {
 1661              		.loc 1 634 1 view -0
 1662              		.cfi_startproc
 1663              		@ args = 0, pretend = 0, frame = 0
 1664              		@ frame_needed = 0, uses_anonymous_args = 0
 1665              		@ link register save eliminated.
 635:Src/main.c    ****   /* USER CODE BEGIN Error_Handler_Debug */
 636:Src/main.c    ****   /* User can add his own implementation to report the HAL error return state */
 637:Src/main.c    **** 
 638:Src/main.c    ****   /* USER CODE END Error_Handler_Debug */
 639:Src/main.c    **** }
 1666              		.loc 1 639 1 view .LVU405
 1667 0000 7047     		bx	lr
 1668              		.cfi_endproc
 1669              	.LFE141:
 1671              		.global	data2
 1672              		.section	.bss.data2,"aw",%nobits
 1673              		.align	2
 1676              	data2:
 1677 0000 00000000 		.space	40
 1677      00000000 
 1677      00000000 
 1677      00000000 
 1677      00000000 
 1678              		.global	g_delay
 1679              		.section	.data.g_delay,"aw"
 1680              		.align	2
 1683              	g_delay:
 1684 0000 2C010000 		.word	300
 1685              		.global	g_counter
 1686              		.section	.bss.g_counter,"aw",%nobits
 1687              		.align	1
 1690              	g_counter:
 1691 0000 0000     		.space	2
 1692              		.global	current
 1693              		.section	.bss.current,"aw",%nobits
 1694              		.align	2
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 46


 1697              	current:
 1698 0000 00000000 		.space	4
 1699              		.global	voltage
 1700              		.section	.bss.voltage,"aw",%nobits
 1701              		.align	2
 1704              	voltage:
 1705 0000 00000000 		.space	4
 1706              		.global	sendOK
 1707              		.section	.bss.sendOK,"aw",%nobits
 1710              	sendOK:
 1711 0000 00       		.space	1
 1712              		.global	receive
 1713              		.section	.bss.receive,"aw",%nobits
 1714              		.align	1
 1717              	receive:
 1718 0000 0000     		.space	2
 1719              		.global	calibWord
 1720              		.section	.bss.calibWord,"aw",%nobits
 1721              		.align	1
 1724              	calibWord:
 1725 0000 0000     		.space	2
 1726              		.global	configWord
 1727              		.section	.bss.configWord,"aw",%nobits
 1728              		.align	1
 1731              	configWord:
 1732 0000 0000     		.space	2
 1733              		.global	devAddr
 1734              		.section	.data.devAddr,"aw"
 1737              	devAddr:
 1738 0000 80       		.byte	-128
 1739              		.global	recData
 1740              		.section	.bss.recData,"aw",%nobits
 1741              		.align	2
 1744              	recData:
 1745 0000 000000   		.space	3
 1746              		.global	I2C_Data
 1747              		.section	.bss.I2C_Data,"aw",%nobits
 1748              		.align	2
 1751              	I2C_Data:
 1752 0000 000000   		.space	3
 1753              		.global	approxCoefficient
 1754              		.section	.data.approxCoefficient,"aw"
 1755              		.align	2
 1758              	approxCoefficient:
 1759 0000 CD4CD443 		.word	1137986765
 1760              		.global	b2
 1761              		.section	.data.b2,"aw"
 1762              		.align	2
 1765              	b2:
 1766 0000 1E5252BE 		.word	-1101901282
 1767              		.global	k2
 1768              		.section	.data.k2,"aw"
 1769              		.align	2
 1772              	k2:
 1773 0000 D1B7F839 		.word	972601297
 1774              		.global	outCoarse
 1775              		.section	.data.outCoarse,"aw"
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 47


 1776              		.align	1
 1779              	outCoarse:
 1780 0000 0100     		.short	1
 1781              		.global	out
 1782              		.section	.bss.out,"aw",%nobits
 1783              		.align	1
 1786              	out:
 1787 0000 0000     		.space	2
 1788              		.global	outFine
 1789              		.section	.bss.outFine,"aw",%nobits
 1790              		.align	1
 1793              	outFine:
 1794 0000 0000     		.space	2
 1795              		.global	spiData
 1796              		.section	.bss.spiData,"aw",%nobits
 1797              		.align	2
 1800              	spiData:
 1801 0000 000000   		.space	3
 1802              		.global	huart2
 1803              		.section	.bss.huart2,"aw",%nobits
 1804              		.align	2
 1807              	huart2:
 1808 0000 00000000 		.space	64
 1808      00000000 
 1808      00000000 
 1808      00000000 
 1808      00000000 
 1809              		.global	hspi1
 1810              		.section	.bss.hspi1,"aw",%nobits
 1811              		.align	2
 1814              	hspi1:
 1815 0000 00000000 		.space	88
 1815      00000000 
 1815      00000000 
 1815      00000000 
 1815      00000000 
 1816              		.global	hi2c1
 1817              		.section	.bss.hi2c1,"aw",%nobits
 1818              		.align	2
 1821              	hi2c1:
 1822 0000 00000000 		.space	84
 1822      00000000 
 1822      00000000 
 1822      00000000 
 1822      00000000 
 1823              		.text
 1824              	.Letext0:
 1825              		.file 2 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/arm-none-eabi/include/ma
 1826              		.file 3 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/arm-none-eabi/include/sy
 1827              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 1828              		.file 5 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/lib/gcc/arm-none-eabi/13
 1829              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1830              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_rcc_ex.h"
 1831              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_rcc.h"
 1832              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1833              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1834              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 48


 1835              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 1836              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 1837              		.file 14 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/13.2 Rel1/arm-none-eabi/include/s
 1838              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1839              		.file 16 "<built-in>"
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 49


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:21     .text.MX_GPIO_Init:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:26     .text.MX_GPIO_Init:00000000 MX_GPIO_Init
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:192    .text.MX_GPIO_Init:000000bc $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:200    .text.MX_USART2_UART_Init:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:205    .text.MX_USART2_UART_Init:00000000 MX_USART2_UART_Init
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:255    .text.MX_USART2_UART_Init:00000024 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1807   .bss.huart2:00000000 huart2
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:261    .text.MX_I2C1_Init:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:266    .text.MX_I2C1_Init:00000000 MX_I2C1_Init
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:319    .text.MX_I2C1_Init:00000028 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1821   .bss.hi2c1:00000000 hi2c1
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:326    .text.MX_SPI1_Init:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:331    .text.MX_SPI1_Init:00000000 MX_SPI1_Init
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:395    .text.MX_SPI1_Init:00000034 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1814   .bss.hspi1:00000000 hspi1
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:401    .text.SystemClock_Config:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:407    .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:544    .text.SystemClock_Config:0000008c $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:550    .text.SetDACOut:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:556    .text.SetDACOut:00000000 SetDACOut
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:640    .text.SetDACOut:00000050 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1800   .bss.spiData:00000000 spiData
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:647    .text.GetShuntVoltageReg:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:653    .text.GetShuntVoltageReg:00000000 GetShuntVoltageReg
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:717    .text.GetShuntVoltageReg:00000044 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1751   .bss.I2C_Data:00000000 I2C_Data
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1737   .data.devAddr:00000000 devAddr
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1710   .bss.sendOK:00000000 sendOK
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1744   .bss.recData:00000000 recData
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1717   .bss.receive:00000000 receive
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:727    .text.GetBusVoltageReg:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:733    .text.GetBusVoltageReg:00000000 GetBusVoltageReg
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:799    .text.GetBusVoltageReg:00000050 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:809    .text.GetCurrentReg:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:815    .text.GetCurrentReg:00000000 GetCurrentReg
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:880    .text.GetCurrentReg:00000044 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:893    .text.GetVoltage:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:899    .text.GetVoltage:00000000 GetVoltage
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:959    .text.GetVoltage:0000003c $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:964    .rodata.PrintTransmitApproximatedVC.str1.4:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:969    .text.PrintTransmitApproximatedVC:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:975    .text.PrintTransmitApproximatedVC:00000000 PrintTransmitApproximatedVC
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1084   .text.PrintTransmitApproximatedVC:000000a8 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1704   .bss.voltage:00000000 voltage
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1779   .data.outCoarse:00000000 outCoarse
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1758   .data.approxCoefficient:00000000 approxCoefficient
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1793   .bss.outFine:00000000 outFine
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1772   .data.k2:00000000 k2
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1765   .data.b2:00000000 b2
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1697   .bss.current:00000000 current
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1676   .bss.data2:00000000 data2
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1690   .bss.g_counter:00000000 g_counter
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1100   .text.GetShuntVoltage:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1106   .text.GetShuntVoltage:00000000 GetShuntVoltage
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1166   .text.GetShuntVoltage:00000040 $d
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 50


C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1172   .text.GetCurrent:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1178   .text.GetCurrent:00000000 GetCurrent
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1238   .text.GetCurrent:00000040 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1244   .text.PrintTransmitMeasuredVC:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1250   .text.PrintTransmitMeasuredVC:00000000 PrintTransmitMeasuredVC
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1338   .text.PrintTransmitMeasuredVC:00000074 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1351   .text.main:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1357   .text.main:00000000 main
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1633   .text.main:00000184 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1731   .bss.configWord:00000000 configWord
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1724   .bss.calibWord:00000000 calibWord
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1786   .bss.out:00000000 out
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1683   .data.g_delay:00000000 g_delay
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1653   .text.Error_Handler:00000000 $t
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1659   .text.Error_Handler:00000000 Error_Handler
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1673   .bss.data2:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1680   .data.g_delay:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1687   .bss.g_counter:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1694   .bss.current:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1701   .bss.voltage:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1711   .bss.sendOK:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1714   .bss.receive:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1721   .bss.calibWord:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1728   .bss.configWord:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1741   .bss.recData:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1748   .bss.I2C_Data:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1755   .data.approxCoefficient:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1762   .data.b2:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1769   .data.k2:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1776   .data.outCoarse:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1783   .bss.out:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1790   .bss.outFine:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1797   .bss.spiData:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1804   .bss.huart2:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1811   .bss.hspi1:00000000 $d
C:\Users\migel\AppData\Local\Temp\ccewg8FG.s:1818   .bss.hi2c1:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_GPIO_Init
HAL_UART_Init
HAL_I2C_Init
HAL_SPI_Init
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_SPI_Transmit
HAL_I2C_Master_Transmit
HAL_I2C_Master_Receive
__aeabi_i2d
__aeabi_dmul
__aeabi_d2f
__aeabi_f2d
snprintf
HAL_UART_Transmit
HAL_Delay
HAL_Init
ARM GAS  C:\Users\migel\AppData\Local\Temp\ccewg8FG.s 			page 51


HAL_GPIO_TogglePin
